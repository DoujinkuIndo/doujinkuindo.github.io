<!DOCTYPE html>
<html>
  <head>
    <title>{% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{ site.description }}</title>

    {% include meta.html %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      $(document).ready(function() {
        var jsonLocation = 'item.json';
        $.getJSON(jsonLocation, function(data){
          $each(data, function(I, item){
            console.log(item.name);
          });
        });
      });
    </script>
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->


  </head>

  <body>

    <div class="wrapper-masthead">

      <div class="container">
        <header class="masthead clearfix">
          <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.avatar }}" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
            <p class="site-description">{{ site.description }}</p>
          </div>

          <div class="serach">
            <input type="hidden" id='insert_target' readonly style='background: #cacaca'>
            <input type="text" id='search_area'  >
            <div id='autoMaker'></div>
          </div>
        </header>
      </div>

      <div id="main" role="main" class="container">
        <div class="notice">
          {% for post in site.posts %}
            <article class="post">
              <h1><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h1>
            </article>
          {% endfor %}
        </div>
        {{ content }}
      </div>

    </div>

    <script>

    var ref = [
        {key:1, name:'데이터1'},
        {key:2, name:'데이터2'},
        {key:3, name:'자바스크립트'},
        {key:4, name:'Json'},
    ];

    var isComplete = false;  //autoMaker 자식이 선택 되었는지 여부
    $('#search_area').keyup(function(){
        var txt = $(this).val();
        if(txt != ''){  //빈줄이 들어오면
            $('#autoMaker').children().remove();

            ref.forEach(function(arg){
                if(arg.name.indexOf(txt) > -1 ){
                    $('#autoMaker').append(
                        $('<div>').text(arg.name).attr({'key':arg.key})
                    );
                }
            });
            $('#autoMaker').children().each(function(){
                $(this).click(function(){
                    $('#search_area').val($(this).text());
                    $('#insert_target').val("key : "+$(this).attr('key')+ ", data : " + $(this).text());
                    $('#autoMaker').children().remove();
                    isComplete = true;
                });
            });
        } else {
            $('#autoMaker').children().remove();
        }
    });
    $('#search_area').keydown(function(event){
        if(isComplete) {  //autoMaker 자식이 선택 되었으면 초기화
            $('#insert_target').val('')
        }
    })

    </script>
    {% include analytics.html %}
  </body>
</html>
