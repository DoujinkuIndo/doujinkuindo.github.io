---
layout: page
title: My eBay Stuff
permalink: /ebay/
image: /images/covers/t-shirt-shop.png
jquery: true
excerpt: Stuff I'm selling on eBay.
---

<style>
.page h1, h2 {
	text-align: center;
}
ul {
	list-style: none;
	text-align: center;
}
li {
	display: inline-block;
	margin: 1em;
}
figure img:hover {
	opacity: 0.8;
}
</style>

<ul id="ebay"></ul>

<script>
$(document).ready(function(){

	var rover = "https://rover.ebay.com/rover/1/711-53200-19255-0/1?icep_id=114&ipn=icep&toolid=20004&campid=5337996799&mpre="

	$.getJSON('http://anyorigin.com/go?url=http://www.ebay.com/sch/yknowitsjoe/m.html&callback=?',
			function(data){
				var ebay = jQuery.parseHTML(data.contents);
				var items = $(ebay).find("#ListViewInner > li");
				
				$(items).each(function(){
					var title = $(this).find(".lvtitle a").text();
					var image = $(this).find("img").attr("src");
					var url = $(this).find(".lvtitle a").attr("href");
					var price = $(this).find(".lvprice.prc span").text().replace(/\s|\$|Trending.*/g,"");
					
					var entry = '<li itemscope itemtype="http://schema.org/Product">'
					 + '<a itemprop="url" href="' + rover + url + '"><figure>'
					 + '<img itemprop="image" src="' + image + '" alt="' + title + '" />';
					 + '<figcaption><div itemprop="name">' + title + '</div>'
					 + '<div><span itemprop="offers" itemscope itemtype="http://schema.org/Offer">'
					 + '<span itemprop="priceCurrency" content="USD">$</span><span itemprop="price">'
					 + price + '</span></span></div></figcaption></figure></a></li>';
					
					$("#ebay").append(entry);
				});
			}
	);
});
</script>
