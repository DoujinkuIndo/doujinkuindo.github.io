/*
Last Updated: 2016年6月10日 11:07:12

COTA
http://cota.jp
*/
(function(M){var E="left",F="right",N="up",y="down",O="in",x="out",H="none",B="auto",v="horizontal",A="vertical",K="all",L="start",I="move",J="end",D="cancel",P="ontouchstart" in window,w="TouchSwipe";var G={fingers:1,threshold:75,maxTimeThreshold:null,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"button, input, select, textarea, a, .noSwipe"};M.fn.swipe=function(a){var b=M(this),c=b.data(w);if(c&&typeof a==="string"){if(c[a]){return c[a].apply(this,Array.prototype.slice.call(arguments,1))}else{M.error("Method "+a+" does not exist on jQuery.swipe")}}else{if(!c&&(typeof a==="object"||!a)){return z.apply(this,arguments)}}return b};M.fn.swipe.defaults=G;M.fn.swipe.phases={PHASE_START:L,PHASE_MOVE:I,PHASE_END:J,PHASE_CANCEL:D};M.fn.swipe.directions={LEFT:E,RIGHT:F,UP:N,DOWN:y,IN:O,OUT:x};M.fn.swipe.pageScroll={NONE:H,HORIZONTAL:v,VERTICAL:A,AUTO:B};M.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:K};function z(a){if(a&&(a.allowPageScroll===undefined&&(a.swipe!==undefined||a.swipeStatus!==undefined))){a.allowPageScroll=H}if(!a){a={}}a=M.extend({},M.fn.swipe.defaults,a);return this.each(function(){var b=M(this);var c=b.data(w);if(!c){c=new C(this,a);b.data(w,c)}})}function C(s,i){var t=(P||!i.fallbackToMouseEvents),ar=t?"touchstart":"mousedown",q=t?"touchmove":"mousemove",aw=t?"touchend":"mouseup",u="touchcancel";var k=0;var aq=null;var h=0;var ap=0;var aE=0;var f=1;var r=0;var az=M(s);var ao="start";var ak=0;var g=null;var ax=0;var n=0;try{az.bind(ar,aA);az.bind(u,at)}catch(an){M.error("events not supported "+ar+","+u+" on jQuery.swipe")}this.enable=function(){az.bind(ar,aA);az.bind(u,at);return az};this.disable=function(){aj();return az};this.destroy=function(){aj();az.data(w,null);return az};function aA(Q){if(o()){return}if(M(Q.target).closest(i.excludedElements,az).length>0){return}Q=Q.originalEvent;var R,S=P?Q.touches[0]:Q;ao=L;if(P){ak=Q.touches.length}else{Q.preventDefault()}k=0;aq=null;r=null;h=0;ap=0;aE=0;f=1;g=p();if(!P||(ak===i.fingers||i.fingers===K)||d()){g[0].start.x=g[0].end.x=S.pageX;g[0].start.y=g[0].end.y=S.pageY;ax=aD();if(ak==2){g[1].start.x=g[1].end.x=Q.touches[1].pageX;g[1].start.y=g[1].end.y=Q.touches[1].pageY;ap=aE=m(g[0].start,g[1].start)}if(i.swipeStatus||i.pinchStatus){R=al(Q,ao)}}else{at(Q);R=false}if(R===false){ao=D;al(Q,ao);return R}else{e(true);az.bind(q,am);az.bind(aw,l)}}function am(Q){Q=Q.originalEvent;if(ao===J||ao===D){return}var S,T=P?Q.touches[0]:Q;g[0].end.x=P?Q.touches[0].pageX:T.pageX;g[0].end.y=P?Q.touches[0].pageY:T.pageY;n=aD();aq=a(g[0].start,g[0].end);if(P){ak=Q.touches.length}ao=I;if(ak==2){if(ap==0){g[1].start.x=Q.touches[1].pageX;g[1].start.y=Q.touches[1].pageY;ap=aE=m(g[0].start,g[1].start)}else{g[1].end.x=Q.touches[1].pageX;g[1].end.y=Q.touches[1].pageY;aE=m(g[0].end,g[1].end);r=c(g[0].end,g[1].end)}f=aF(ap,aE)}if((ak===i.fingers||i.fingers===K)||!P){aC(Q,aq);k=aB(g[0].start,g[0].end);h=av(g[0].start,g[0].end);if(i.swipeStatus||i.pinchStatus){S=al(Q,ao)}if(!i.triggerOnTouchEnd){var R=!b();if(j()===true){ao=J;S=al(Q,ao)}else{if(R){ao=D;al(Q,ao)}}}}else{ao=D;al(Q,ao)}if(S===false){ao=D;al(Q,ao)}}function l(Q){Q=Q.originalEvent;if(Q.touches&&Q.touches.length>0){return true}Q.preventDefault();n=aD();if(ap!=0){aE=m(g[0].end,g[1].end);f=aF(ap,aE);r=c(g[0].end,g[1].end)}k=aB(g[0].start,g[0].end);aq=a(g[0].start,g[0].end);h=av();if(i.triggerOnTouchEnd||(i.triggerOnTouchEnd===false&&ao===I)){ao=J;var T=au()||!d();var V=((ak===i.fingers||i.fingers===K)||!P);var W=g[0].end.x!==0;var U=(V&&W&&T);if(U){var S=b();var R=j();if((R===true||R===null)&&S){al(Q,ao)}else{if(!S||R===false){ao=D;al(Q,ao)}}}else{ao=D;al(Q,ao)}}else{if(ao===I){ao=D;al(Q,ao)}}az.unbind(q,am,false);az.unbind(aw,l,false);e(false)}function at(){ak=0;n=0;ax=0;ap=0;aE=0;f=1;e(false)}function al(Q,S){var R=undefined;if(i.swipeStatus){R=i.swipeStatus.call(az,Q,S,aq||null,k||0,h||0,ak)}if(i.pinchStatus&&au()){R=i.pinchStatus.call(az,Q,S,r||null,aE||0,h||0,ak,f)}if(S===D){if(i.click&&(ak===1||!P)&&(isNaN(k)||k===0)){R=i.click.call(az,Q,Q.target)}}if(S==J){if(i.swipe){R=i.swipe.call(az,Q,aq,k,h,ak)}switch(aq){case E:if(i.swipeLeft){R=i.swipeLeft.call(az,Q,aq,k,h,ak)}break;case F:if(i.swipeRight){R=i.swipeRight.call(az,Q,aq,k,h,ak)}break;case N:if(i.swipeUp){R=i.swipeUp.call(az,Q,aq,k,h,ak)}break;case y:if(i.swipeDown){R=i.swipeDown.call(az,Q,aq,k,h,ak)}break}switch(r){case O:if(i.pinchIn){R=i.pinchIn.call(az,Q,r||null,aE||0,h||0,ak,f)}break;case x:if(i.pinchOut){R=i.pinchOut.call(az,Q,r||null,aE||0,h||0,ak,f)}break}}if(S===D||S===J){at(Q)}return R}function j(){if(i.threshold!==null){return k>=i.threshold}return null}function b(){var Q;if(i.maxTimeThreshold){if(h>=i.maxTimeThreshold){Q=false}else{Q=true}}else{Q=true}return Q}function aC(S,R){if(i.allowPageScroll===H||d()){S.preventDefault()}else{var Q=i.allowPageScroll===B;switch(R){case E:if((i.swipeLeft&&Q)||(!Q&&i.allowPageScroll!=v)){S.preventDefault()}break;case F:if((i.swipeRight&&Q)||(!Q&&i.allowPageScroll!=v)){S.preventDefault()}break;case N:if((i.swipeUp&&Q)||(!Q&&i.allowPageScroll!=A)){S.preventDefault()}break;case y:if((i.swipeDown&&Q)||(!Q&&i.allowPageScroll!=A)){S.preventDefault()}break}}}function av(){return n-ax}function m(Q,R){var S=Math.abs(Q.x-R.x);var T=Math.abs(Q.y-R.y);return Math.round(Math.sqrt(S*S+T*T))}function aF(S,R){var Q=(R/S)*1;return Q.toFixed(2)}function c(){if(f<1){return x}else{return O}}function aB(Q,R){return Math.round(Math.sqrt(Math.pow(R.x-Q.x,2)+Math.pow(R.y-Q.y,2)))}function ay(S,U){var V=S.x-U.x;var Q=U.y-S.y;var T=Math.atan2(Q,V);var R=Math.round(T*180/Math.PI);if(R<0){R=360-Math.abs(R)}return R}function a(R,S){var Q=ay(R,S);if((Q<=45)&&(Q>=0)){return E}else{if((Q<=360)&&(Q>=315)){return E}else{if((Q>=135)&&(Q<=225)){return F}else{if((Q>45)&&(Q<135)){return y}else{return N}}}}}function aD(){var Q=new Date();return Q.getTime()}function aj(){az.unbind(ar,aA);az.unbind(u,at);az.unbind(q,am);az.unbind(aw,l);e(false)}function d(){return i.pinchStatus||i.pinchIn||i.pinchOut}function au(){return r&&d()}function o(){return az.data(w+"_intouch")===true?true:false}function e(Q){Q=Q===true?true:false;az.data(w+"_intouch",Q)}function p(){var R=[];for(var Q=0;Q<=5;Q++){R.push({start:{x:0,y:0},end:{x:0,y:0},delta:{x:0,y:0}})}return R}}})(jQuery);(function(b){b.fn.adipoli=function(a){function h(u){var t=document.createElement("canvas");var s=t.getContext("2d");var r=new Image;r.src=u;t.width=r.width;t.height=r.height;s.drawImage(r,0,0);var q=s.getImageData(0,0,t.width,t.height);for(var p=0;p<q.height;p++){for(var o=0;o<q.width;o++){var n=p*4*q.width+o*4;var m=(q.data[n]+q.data[n+1]+q.data[n+2])/3;q.data[n]=m;q.data[n+1]=m;q.data[n+2]=m}}s.putImageData(q,0,0,0,0,q.width,q.height);return t.toDataURL()}function i(f){for(var e,m,g=f.length;g;e=parseInt(Math.random()*g),m=f[--g],f[g]=f[e],f[e]=m){}return f}function j(m,r){var q=Math.round(m.width()/r.boxCols);var p=Math.round(m.height()/r.boxRows);for(var o=0;o<r.boxRows;o++){for(var n=0;n<r.boxCols;n++){if(n==r.boxCols-1){m.children(".adipoli-after").append(b('<div class="adipoli-box"></div>').css({opacity:0,left:q*n+"px",top:p*o+"px",width:m.width()-q*n+"px",height:p+"px",background:'url("'+m.children("img").attr("src")+'") no-repeat -'+(q+n*q-q)+"px -"+(p+o*p-p)+"px"}))}else{m.children(".adipoli-after").append(b('<div class="adipoli-box"></div>').css({opacity:0,left:q*n+"px",top:p*o+"px",width:q+"px",height:p+"px",background:'url("'+m.children("img").attr("src")+'") no-repeat -'+(q+n*q-q)+"px -"+(p+o*p-p)+"px"}))}}}}function k(f,n){for(var m=0;m<n.slices;m++){var g=Math.round(f.width()/n.slices);if(m==n.slices-1){f.children(".adipoli-after").append(b('<div class="adipoli-slice"></div>').css({left:g*m+"px",width:f.width()-g*m+"px",height:"0px",opacity:"0",background:'url("'+f.children("img").attr("src")+'") no-repeat -'+(g+m*g-g)+"px 0%"}))}else{f.children(".adipoli-after").append(b('<div class="adipoli-slice"></div>').css({left:g*m+"px",width:g+"px",height:"0px",opacity:"0",background:'url("'+f.children("img").attr("src")+'") no-repeat -'+(g+m*g-g)+"px 0%"}))}}}var l=b.extend({startEffect:"transparent",hoverEffect:"normal",imageOpacity:0.5,animSpeed:300,fillColor:"#000",textColor:"#fff",overlayText:"",slices:10,boxCols:5,boxRows:3,popOutMargin:10,popOutShadow:10},a);b(this).one("load",function(){b(this).wrap(function(){return'<div class="adipoli-wrapper '+b(this).attr("class")+'" style="width:'+b(this).width()+"px; height:"+b(this).height()+'px;"/>'});b(this).parent().append('<div class="adipoli-before '+b(this).attr("class")+'" style="display:none;width:'+b(this).width()+"px; height:"+b(this).height()+'px;"><img src="'+b(this).attr("src")+'"/></div>');b(this).parent().append('<div class="adipoli-after '+b(this).attr("class")+'" style="display:none;width:'+b(this).width()+"px; height:"+b(this).height()+'px;"></div>');if(l.startEffect=="transparent"){b(this).hide();b(this).siblings(".adipoli-before").css({"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+l.imageOpacity*100+')"',filter:"alpha(opacity="+l.imageOpacity*100+")","-moz-opacity":l.imageOpacity,"-khtml-opacity":l.imageOpacity,opacity:l.imageOpacity}).show()}else{if(l.startEffect=="grayscale"){var c=b(this);c.hide();c.siblings(".adipoli-before").show();c.siblings(".adipoli-before").children("img").each(function(){this.src=h(this.src)})}else{if(l.startEffect=="normal"){b(this).hide();b(this).siblings(".adipoli-before").show()}else{if(l.startEffect=="overlay"){c=b(this);c.hide();b(this).siblings(".adipoli-before").html(l.overlayText).css({"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+l.imageOpacity*100+')"',filter:"alpha(opacity="+l.imageOpacity*100+")","-moz-opacity":l.imageOpacity,"-khtml-opacity":l.imageOpacity,opacity:l.imageOpacity,background:l.fillColor,color:l.textColor}).fadeIn();c.show()}}}}b(this).parent().bind("mouseenter",function(){if(l.hoverEffect=="normal"){var E=b(this);E.children(".adipoli-after").html('<img src="'+E.children("img").attr("src")+'"/>').fadeIn(l.animSpeed)}else{if(l.hoverEffect=="popout"){E=b(this);var D=E.children("img").width();var C=E.children("img").height();E.children(".adipoli-after").html('<img src="'+E.children("img").attr("src")+'"/>');var B=E.children(".adipoli-after").children("img");B.width(D+2*l.popOutMargin);B.height(C+2*l.popOutMargin);E.children(".adipoli-after").width(D+2*l.popOutMargin);E.children(".adipoli-after").height(C+2*l.popOutMargin);E.children(".adipoli-after").css({left:"-"+l.popOutMargin+"px",top:"-"+l.popOutMargin+"px","box-shadow":"0px 0px "+l.popOutShadow+"px #000"}).show()}else{if(l.hoverEffect=="sliceDown"||l.hoverEffect=="sliceDownLeft"||l.hoverEffect=="sliceUp"||l.hoverEffect=="sliceUpLeft"||l.hoverEffect=="sliceUpRandom"||l.hoverEffect=="sliceDownRandom"){b(this).children(".adipoli-after").show();k(b(this),l);var A=0;var z=0;var y=b(".adipoli-slice",b(this));if(l.hoverEffect=="sliceDownLeft"||l.hoverEffect=="sliceUpLeft"){y=b(".adipoli-slice",b(this))._reverse()}if(l.hoverEffect=="sliceUpRandom"||l.hoverEffect=="sliceDownRandom"){y=i(b(".adipoli-slice",b(this)))}y.each(function(){var g=b(this);if(l.hoverEffect=="sliceDown"||l.hoverEffect=="sliceDownLeft"){g.css({top:"0px"})}else{if(l.hoverEffect=="sliceUp"||l.hoverEffect=="sliceUpLeft"){g.css({bottom:"0px"})}}if(z==l.slices-1){setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},l.animSpeed,"",function(){})},100+A)}else{setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},l.animSpeed)},100+A)}A+=50;z++})}else{if(l.hoverEffect=="sliceUpDown"||l.hoverEffect=="sliceUpDownLeft"){b(this).children(".adipoli-after").show();k(b(this),l);A=0;z=0;var x=0;y=b(".adipoli-slice",b(this));if(l.hoverEffect=="sliceUpDownLeft"){y=b(".adipoli-slice",b(this))._reverse()}y.each(function(){var g=b(this);if(z==0){g.css("top","0px");z++}else{g.css("bottom","0px");z=0}if(x==l.slices-1){setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},l.animSpeed,"",function(){})},100+A)}else{setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},l.animSpeed)},100+A)}A+=50;x++})}else{if(l.hoverEffect=="fold"||l.hoverEffect=="foldLeft"){b(this).children(".adipoli-after").show();E=b(this);k(E,l);A=0;z=0;y=b(".adipoli-slice",E);if(l.hoverEffect=="foldLeft"){y=b(".adipoli-slice",b(this))._reverse()}y.each(function(){var g=b(this);var m=g.width();g.css({top:"0px",height:"100%",width:"0px"});if(z==l.slices-1){setTimeout(function(){g.animate({width:m,opacity:"1.0"},l.animSpeed,"",function(){})},100+A)}else{setTimeout(function(){g.animate({width:m,opacity:"1.0"},l.animSpeed)},100+A)}A+=50;z++})}else{if(l.hoverEffect=="boxRandom"){b(this).children(".adipoli-after").show();E=b(this);j(E,l);var w=l.boxCols*l.boxRows;z=0;A=0;var v=i(b(".adipoli-box",E));v.each(function(){var g=b(this);if(z==w-1){setTimeout(function(){g.animate({opacity:"1"},l.animSpeed,"",function(){})},100+A)}else{setTimeout(function(){g.animate({opacity:"1"},l.animSpeed)},100+A)}A+=20;z++})}else{if(l.hoverEffect=="boxRain"||l.hoverEffect=="boxRainReverse"||l.hoverEffect=="boxRainGrow"||l.hoverEffect=="boxRainGrowReverse"){b(this).children(".adipoli-after").show();E=b(this);j(E,l);w=l.boxCols*l.boxRows;z=0;A=0;var f=0;var e=0;var d=new Array;d[f]=new Array;v=b(".adipoli-box",E);if(l.hoverEffect=="boxRainReverse"||l.hoverEffect=="boxRainGrowReverse"){v=b(".adipoli-box",E)._reverse()}v.each(function(){d[f][e]=b(this);e++;if(e==l.boxCols){f++;e=0;d[f]=new Array}});for(var H=0;H<l.boxCols*2;H++){var G=H;for(var F=0;F<l.boxRows;F++){if(G>=0&&G<l.boxCols){(function(m,t,s,r,q){var p=b(d[m][t]);var o=p.width();var n=p.height();if(l.hoverEffect=="boxRainGrow"||l.hoverEffect=="boxRainGrowReverse"){p.width(0).height(0)}if(r==q-1){setTimeout(function(){p.animate({opacity:"1",width:o,height:n},l.animSpeed/1.3,"",function(){})},100+s)}else{setTimeout(function(){p.animate({opacity:"1",width:o,height:n},l.animSpeed/1.3)},100+s)}})(F,G,A,z,w);z++}G--}A+=100}}}}}}}}});b(this).parent().bind("mouseleave",function(){b(this).children(".adipoli-after").html("").hide()})}).each(function(){if(this.complete){b(this).load()}});return b(this)};b.fn._reverse=[].reverse})(jQuery);