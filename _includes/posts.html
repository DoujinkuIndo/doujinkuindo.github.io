<div class="posts">
  {% if include.onlytags %}
    {% assign posts=site.tags[include.onlytags] %}
  {% else %}
    {% assign posts=paginator.posts %}
  {% endif %}
  
  {% for post in posts %}
    <article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting" content="{{ site.name }}" class="post">

      <h2 itemprop="headline" class="postHeader">
        <a href="{{ post.url }}" itemprop="url">
          {% if post.facebook_post %}<i class="svg-icon facebook social_post"></i>{% elsif post.linkedin_post %}<i class="svg-icon linkedin social_post"></i>{% elsif post.tags contains 'family tree' %}<img src="/images/Family-Tree-icon-40.png" class="social_post" />{% elsif post.tags contains 'html5' %}<img src="/images/HTML5_Logo.svg" class="social_post" style="width: 40px; height: 40px;" />{% endif %}{{ post.title }}
        </a>
      </h2>
      <div>
        <span itemprop="datePublished" content="{{ post.date | date: "%Y-%m-%d" }}" class="date">
          {{ post.date | date: "%B %e, %Y" }}
        </span>
        <nav class="tags">
          {% assign tags = post.tags | sort %}{% for tag in tags %}<a href="/tags/{{ tag | replace:' ','_' }}/">{{ tag }}</a>{% unless forloop.last %}|{% endunless %}{% endfor %}
        </nav>
      </div>

      {% for tag in post.tags %}<meta itemprop="keywords" content="{{ tag | replace:'_',' ' }}"/>{% endfor %}
      
      {% if post.image %}<meta itemprop="image" content="{{ site.url }}{{ post.image }}" />{% else %}<meta itemprop="image" content="{{ site.avatar }}" />{% endif %}

      <div class="entry" style="margin-top: 15px;">
        {% if post.facebook_post %}
          {% include facebook_post.html facebook_post=post.facebook_post %}
        {% elsif post.content contains '<!--more-->' %}
	        {{ post.content | split:'<!--more-->' | first }}
        {% else %}
          {{ post.excerpt }}
        {% endif %}
      </div>
      
    </article>
  {% endfor %}
</div>
