---
layout: default
permalink: /alchemist/
---
<div id="searching_item">

</div>
<div id="searching_recipe">

</div>
<div id="searching_find"></div>
<div id="recipe">

</div>
<script>
  function isitem(datalist, item){
		var str='';
		for (var i=0; i < datalist.length;++i){
			if(datalist[i]['name'] === item){
				str = "<a href='{{ site.baseurl }}/alchemist/?item="+datalist[i]+"'>"+datalist[i]+"</a>";
        break;
			}
		}
		return str;
	}

  function get_recipe(recipe, item, target){
      $.getJSON("{{ site.baseurl }}/alchemist/"+recipe+".json", function(data) {
        var step = '';
        var step_1='<div><h3>슬롯1 등장 아이템 리스트</h3><ul>';
        var step_2='<div><h3>슬롯2 등장 아이템 리스트</h3><ul>';
        var step_3='<div><h3>슬롯3 등장 아이템 리스트</h3><ul>';
        var step_4='<div><h3>슬롯4 등장 아이템 리스트</h3><ul>';
        var step_5='<div><h3>슬롯5 등장 아이템 리스트</h3><ul>';
        var print_end = '';
        var find = '';
        for (var i=0; i < data.length;++i){
          step = data[i]['recipe'].split('-');
          if(step[1] == 1){
            step_1 += "<li>+"+data[i]['up']+" "+data[i]['name']+" ("+data[i]['rand']+")</li>";
          } else if(step[1] == 2){
            step_2 += "<li>+"+data[i]['up']+" "+data[i]['name']+" ("+data[i]['rand']+")</li>";
          } else if(step[1] == 3){
            step_3 += "<li>+"+data[i]['up']+" "+data[i]['name']+" ("+data[i]['rand']+")</li>";
          } else if(step[1] == 4){
            step_4 += "<li>+"+data[i]['up']+" "+data[i]['name']+" ("+data[i]['rand']+")</li>";
          } else if(step[1] == 5){
            step_5 += "<li>+"+data[i]['up']+" "+data[i]['name']+" ("+data[i]['rand']+")</li>";
          }
          if(item == data[i]['name']){
            if( find ){
              find += ", ";
            } else {
              find += "일반 연금"+step[0]+" ";
            }
            find += "슬롯"+step[1];
            find += "<li>+"+data[i]['up']+" "+data[i]['name']+" ("+data[i]['rand']+")</li>";
          }
        }
        step_1 += '</ul></div>';
        step_2 += '</ul></div>';
        step_3 += '</ul></div>';
        step_4 += '</ul></div>';
        step_5 += '</ul></div>';

        print_end += step_1;
        print_end += step_2;
        print_end += step_3;
        print_end += step_4;
        print_end += step_5;
        if (find){
          find += "에 존재합니다.";
          var my_list2=document.getElementById("searching_find");
          my_list2.innerHTML = find;
        }
        console.log(find);
        var my_list=document.getElementById(target);
        if (print_end) {
          my_list.innerHTML = print_end;
        }
      });
  }

  var searching_item = getParameterByName('item');
  var searching_recipe = getParameterByName('recipe');

  if(searching_item){
    var item = localStorage.getItem('item');
    item = JSON.parse(item);

    var find = isitem(item, searching_item);

    document.getElementById("searching_item").innerHTML = find.name;

    var find_recipe = find.recipe;
    find_recipe = find.recipe.split(', ');
    var find_recipe_print = '';
    for (var i=0; i < find_recipe.length;++i){
      find_recipe_print += "<a href='{{ site.baseurl }}/alchemist/?item="+datalist[i]+"&recipe="+find_recipe[i]+"'>일반 연금"+find_recipe[i]+"</a>";
    }
    document.getElementById("searching_recipe").innerHTML = find.recipe;
  }


  if(searching_recipe){
    var recipe = get_recipe(1, find.name, "recipe");
  }



</script>
