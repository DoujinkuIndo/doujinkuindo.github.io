---
layout: default
permalink: /alchemist/
---
<div id="searching_item">

</div>
<div id="searching_racipe">

</div>
연금식 검색하기
<div id="racipe">

</div>
<script>
  function isitem(datalist, item){
		var str='';
		for (var i=0; i < datalist.length;++i){
			if(datalist[i]['name'] === item){
				str = datalist[i];
        break;
			}
		}
		return str;
	}

  function get_racipe(racipe, step){
      $.getJSON("{{ site.baseurl }}/alchemist/"+racipe+"-"+step+".json", function(data) {
        return data;
      });
  }

  function datalist_add(datalist, target){
    var str='';
    for (var i=0; i < datalist.length;++i){
      str += "<option value=\""+datalist[i]['아이템명']+"\" /></option>";
    }
    var my_list=document.getElementById(target);
    if (str) {
      my_list.innerHTML = str;
    }
  }

  var searching_item = getParameterByName('item');
  var searching_racipe = getParameterByName('racipe');

  if(searching_item){
    var item = localStorage.getItem('item');
    item = JSON.parse(item);

    var find = isitem(item, searching_item);

    document.getElementById("searching_item").innerHTML = find.name;
    document.getElementById("searching_racipe").innerHTML = find.racipe;
  }

  if(searching_racipe){
    var racipe_1 = get_racipe(1, 1);
    var racipe_2 = get_racipe(1, 2);
    var racipe_3 = get_racipe(1, 3);
    var racipe_4 = get_racipe(1, 4);
    var racipe_5 = get_racipe(1, 5);

    datalist_add(racipe_1 , "racipe");
  }



</script>
