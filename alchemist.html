---
layout: default
permalink: /alchemist/
---
<div id="searching_item">

</div>
<div id="searching_racipe">

</div>
연금식 검색하기
<div id="racipe">

</div>
<script>
  function isitem(datalist, item){
		var str='';
		for (var i=0; i < datalist.length;++i){
			if(datalist[i]['name'] === item){
				str = datalist[i];
        break;
			}
		}
		return str;
	}

  function get_racipe(racipe, item){
      $.getJSON("{{ site.baseurl }}/alchemist/"+racipe+".json", function(data) {
        $.each(data, function(key, val) {
          return data;
        });
      });
  }

  function datalist_add2(datalist, target){
    var step = '';
    var step_1='';
    var step_2='';
    var step_3='';
    var step_4='';
    var step_5='';
    for (var i=0; i < datalist.length;++i){
      step = datalist[i]['recipe'].split(',');
      if(step[1] == 1){
        step_1 += "<li>+"+datalist[i]['up']+" "+datalist[i]['name']+" ("+datalist[i]['rand']+")";
      } else if(step[1] == 2){
        step_2 += "<li>+"+datalist[i]['up']+" "+datalist[i]['name']+" ("+datalist[i]['rand']+")";
      } else if(step[1] == 3){
        step_3 += "<li>+"+datalist[i]['up']+" "+datalist[i]['name']+" ("+datalist[i]['rand']+")";
      } else if(step[1] == 4){
        step_4 += "<li>+"+datalist[i]['up']+" "+datalist[i]['name']+" ("+datalist[i]['rand']+")";
      } else if(step[1] == 5){
        step_5 += "<li>+"+datalist[i]['up']+" "+datalist[i]['name']+" ("+datalist[i]['rand']+")";
      }
    }
    var my_list=document.getElementById(target);
    if (step_1) {
      my_list.innerHTML = step_1;
    }
  }

  var searching_item = getParameterByName('item');
  var searching_racipe = getParameterByName('racipe');

  if(searching_item){
    var item = localStorage.getItem('item');
    item = JSON.parse(item);

    var find = isitem(item, searching_item);

    document.getElementById("searching_item").innerHTML = find.name;
    document.getElementById("searching_racipe").innerHTML = find.racipe;
  }


  if(searching_racipe){
    var racipe = get_racipe(1, 1);
    datalist_add2(racipe, "racipe");
  }



</script>
