---
layout: post
title: How to easily setup znc with docker
---

# The irc protocol

Irc is an old but time-proven communication protocol. By using it in a way that is closest to how the protocol was implemented, you will probably feel limited very quickly if you're having to use several machines to connect to the same terminal. Fortunately, there are some ways to circumvent this problem.

# The old way of doing it

If you're using irc and are tired of having to connect from several clients with different nicknames to a common server, you have several options to unify those accounts. Some people use a terminal multiplexer like [screen](https://robots.thoughtbot.com/running-weechat-on-a-server-for-irc-backlogs) or tmux and then simply use SSH to connect to their instance. This allows them to have only one client connected to the server at all time. There is also the advantage of only having to learn one client, whereas beforehand you had to learn to use an Android client, a Windows client, a web-based client etc. This is better suited to people using terminal-based clients.

![weechat irc client running in a tmux session]({{ site.url }}/images/weechat_wemux.png)
*Weechat irc client running in a tmux session, which you can then connect to using ssh*

# Using an irc bouncer

If you're more like me and would rather use different clients for different systems, you can use what we call an irc "bouncer". The principle is simple but great. The bouncer (which is usually a running instance of [znc](https://wiki.archlinux.org/index.php/Znc), connects to the specified network. It can then act as some sort of an irc server by itself, where you can directly connect to using all your different clients. This way, I can have Hexchat running on Windows, Andchat running on Android, and weechat running on Linux all connected to the same znc instance. Like the screen/tmux way of doing it, it requires yourself to have a personal server with high availability.

Of course you can always install znc the old way, by following the instructions [here](http://wiki.znc.in/Installation) but in my opinion using docker makes it even easier.

## Hosting znc on your personal machine/desktop/raspberry pi

If you already have a machine running 24/7 for other reasons. You can reuse this one and run znc on it. Just make sure the port you choose is forwarded and isn't clashing with another application using TCP.

As this tutorial is using a znc docker image, I would recommend installing docker before continuing to the section below "Using docker to install znc".

## Using a VPS

There are several reasons why one would prefer to order a VPS instead of hosting it by himself. For one, maybe you don't have a 24/7 running machine. Or maybe you don't want to setup one (for energy consumption or noise reasons). While hosting it yourself gives you the benefit of having more control over it, you also have to learn how to manage it in order to have the highest availability. If you're going to do this, I would highly recommend using a domain name to make sure that you can always access your machine with a dynamic IP. If you don't mind using a subdomain provided by a free service, I highly recommend using [duckdns](https://www.duckdns.org/). For instance, you could setup your machine at home to have your-personal-machine.duckdns.org resolve to its current IP. Note that this is also useful if you're using a VPS without a domain name, of if you simply want to use screen or tmux. This way you can also ssh to your machine using its duckdns subdomain. Here are the rough steps to get you started :

1. Get yourself a [LowEndSpirit VPS](http://lowendspirit.com/). LES VPSs cost a few bucks a month/year and they are more than adequate for hosting znc
2. I would recommend using Ubuntu for the OS
3. Make sure you can connect to it with ssh, and setup duckdns if you want to easily access it
4. Continue to "Using docker to install znc"

*Note that you can also use LowEndSpirit for a screen/tmux session if you wish*

# Using docker to install znc

As installing the correct pre-requisites for znc can be tedious, especially if you're not familiar to how installing software on Linux usually is, this tutorial will be using a docker image for quickly running znc. If you're not familiar with docker, there are already tons of articles on the Internet saying why it's great, but let's just say for now that it allows rapid application deployment, portability, version control, easy sharing of images, and minimal overhead.

For now, let's assume your machine is running a recent version of Ubuntu. The steps for having docker running are very simple:

1. Follow the steps [here](https://docs.docker.com/engine/installation/linux/ubuntulinux/)
2. Enter `docker pull jimeh\znc` like mentionned [here](https://hub.docker.com/r/jimeh/znc/)
3. Enter `docker run -d -p PORT_NUMBER -v ZNC_DIRECTORY_HOST:/znc-data jimeh/znc` and replace PORT_NUMBER and ZNC_DIRECTORY_HOST with the appropriate strings. For instance, if you want znc exposed via port 6667 with the volume data mounted in $HOME/.znc, you can create the .znc folder and run `docker run -d -p 6667 -v $HOME/.znc:/znc-data jimeh/znc`.
4. You should now be able to access the admin panel with admin:admin as the default user:pass at the following address `HOSTNAME:PORT_NUMBER` and replace HOSTNAME and PORT_NUMBER to the appropriate strings for your setup.

If you need more information about configuring znc itself, don't hesitate to ask #znc on freenode. You can also read the documentation on their [wiki](http://wiki.znc.in/Configuration), which should be plenty to get you started.

# Using a service like irccloud

One my friends uses [irccloud](https://www.irccloud.com/), which is a project that tries to modernize the typical irc interface with multiple integrations. It also allows you to use their web app or their mobile app to connect to your account, which is then connected to the servers for you. This way, your connections and accounts are always connected in the cloud.

Because irccloud is not open source, a similar project was also released a bit later, which is called [ircanywhere](http://ircanywhere.com/). As I've not used any of those, I can't comment on which one is better, but I would usually suggest using the open source project for obvious reasons.
