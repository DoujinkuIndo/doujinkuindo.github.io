## Linux 学习

Ubuntu 14.04 配置iptables防火墙

Ubuntu默认安装是没有开启任何防火墙的，为了服务器的安全，建议大家安装启用防火墙设置，这里推荐使用iptables防火墙.如果mysql启本地使用,可以不用打开3306端口.

参考链接：http://www.cnblogs.com/general0878/p/5757377.html

1、查看系统是否安装防火墙

```js
whereis iptables
```

出现如上提示表示已经安装iptables，如果没有安装，可以通过以下命令安装

```js
sudo apt-get install iptables
```

2、查看防火墙的配置信息

```js
iptables -L
```

3、修改规则文件把3306的DROP改为ACCEPT
```js
vi /etc/iptables.rules 
```

4、使防火墙生效
```js
iptables-restore < /etc/iptables/rules.v4
```
5、创建文件，添加以下内容，使防火墙开机启动
```js
vi /etc/network/if-pre-up.d/iptables
#!/bin/bash
iptables-restore < /etc/iptables/rules.v4
```
6、添加执行权限
```js
chmod +x /etc/network/if-pre-up.d/iptables
```
7、查看规则是否生效
```js
iptables -L -n
```

一开始使用root登录上传，后来用lnmp add ftp，新建了个www用户后，上传文件提示权限问题，执行以下命令就可以了。
```js
chown www:www -R tyc
```