---
layout: post
title: Code.org's Riddle of King's Party
---

# Introduction  

Last night before bedtime, I accidentally saw an interesting problem posted by Code.org on its Facebook. It was a quite simple but very nice riddle that intrigued me to stay for a bit more to work on it. In this post, I will share this fun riddle and the ways I worked it out.  

> **Code.org's Problem**: *The King and Queen invite 1000 guests to their annual party. Each guest brings a bottle of wine. The Queen learns that a guest is plotting an assassination, and one of the bottles is poisoned. But she doesn't know which bottle. Meanwhile, the King has 10 prisoners he plans to execute. The Queen decides to use the prisoners as taste testers, to find the poisoned bottle. But the poison takes 24 hours to work, and the Queen has only 10 taste-testing prisoners. Still, she devises a scheme that takes only 1 day, and finds out which of the 1,000 guests brought the poisoned bottle. How does she do it?*

# My solution  

Firstly, I want an output which is uniquely indicative of which of the 1,000 guests is the assassin. To do so, let reprensent the output by $y = [y\_{1},y\_{2}, ... ,y\_{10}]^T$ (an column vector), where $y_i \in \\{0,1\\}$ and the corresponding decimal value of the binary number $(y\_1 y\_2 ... y\_{10})\_2$ indicates the assassin guest.  For example, if the assassin is the $5^{th}$ guest, then $y=[0,0,0,0,0,0,0,0,1,0,1]$ since $5 = (101)\_2$.  


Now, let $w = [w\_1,w\_2,...,w\_{1000}]^T$ be an indicative (column) vector of poisoned wine bottles where  

$$w_{k}=
\begin{cases}
1, &\text{if } k^{th} \text{ bottle is poisoned} \\[2ex]
0, &\text{otherwise.}
\end{cases}
$$

In another word, all of the elements in $w$ are zeros except its $k^{th}$ element (a.k.a a one-hot feature).   

Also let $P$ be a 10-by-1000 matrix such that  

$$P(i,j)=
\begin{cases}
1, &\text{if } i^{th} \text{ prisoner drinks } j^{th} \text{ bottle } \\[2ex]
0, &\text{otherwise.}
\end{cases}
$$

For now, the problem is simplified into finding matrix $P$ such that $Pw=y$ (Why? Hint: easy!). Note that the matrix $P$ tells the Queen which prisoner should drink which wine bottle.   

It is very important to notice that $y\_i = P(i,k)$ for $k \in \\{1,2,...,1000\\}$ and $1 \leq i \leq 10$ (Hint: it is a key, but again it is simple to derive). Therefore, the $k^{th}$ column of P is a vector consisting of the binary digits (in order) obtained when $k$ is converted into its binary form.  By that, $P$ is determined! 

See the source code [HERE](https://github.com/thanh-ng/blog-post/tree/master/_kings-party)  


