---
layout: post
title: California Public Enrollment Data
categories: Education Data
---

![Race!=Ethnicity](/images/latin@.jpg)

California's ethnic and racial segregation is a charged topic. Let's try to keep it unbiased.

I will be using "ethnicity" data in future enrollment analyses and find the variable thought-provoking.

The multiple choice options we provide our students have gone through the following changes over time:

ID | 2009-2016 | 1998-2008 | 1993-1997 | 1981-1992
---|----------|-----------|-----------|-----------
0  | Not reported | | |        
1  | American Indian or Alaska Native, Not Hispanic | American Indian or Alaska Native | American Indian or Alaska Native | American Indian or Alaska Native  
2  | Asian, Not Hispanic | Asian | Asian | Asian
3  | Pacific Islander, Not Hispanic | Pacific Islander | Pacific Islander | Pacific Islander 
4  | Filipino, Not Hispanic | Filipino | Filipino | Filipino 
5  | Hispanic or Latino | Hispanic or Latino | Hispanic or Latino | Hispanic or Latino 
6  | African American, not Hispanic | African American, not Hispanic | Black, not Hispanic | Black, not Hispanic 
7  | White, not Hispanic | White, not Hispanic| White, not Hispanic | White, not Hispanic 
8  | | Multiple or No Response | | 
9  | Two or More Races, Not Hispanic | | | 

Clearly, California wants more kids to check the "Hispanic or Latino" box. This has been [an issue for the US Census](https://www.npr.org/2018/01/26/580865378/census-request-suggests-no-race-ethnicity-data-changes-in-2020-experts-say) also, and the proposed form may be of interest here:

![US-Census-Form](/images/US_census_questionnaire.gif)

While exploring CA Enrollment Data I got this plot: 

<img src="/images/BenFranklinEthnicEnrollmentDecade.png" alt="Ethnic Enrollment" style="width: 400px;"/>

It was interesting. Because I taught there. And it got me thinking that stacked bars for each year for every school, clustered by county, might be fun for people from those counties to look at.

So here are those:

<style>

.chart rect {
  fill: steelblue;
}

.chart text {
  fill: white;
  font: 10px sans-serif;
  text-anchor: end;
}

</style>
<svg class="chart"></svg>
<script src="//d3js.org/d3.v3.min.js"></script>
<script>

var width = 420,
    barHeight = 20;

var x = d3.scale.linear()
    .range([0, width]);

var chart = d3.select(".chart")
    .attr("width", width);

d3.tsv("data.tsv", type, function(error, data) {
  x.domain([0, d3.max(data, function(d) { return d.value; })]);

  chart.attr("height", barHeight * data.length);

  var bar = chart.selectAll("g")
      .data(data)
    .enter().append("g")
      .attr("transform", function(d, i) { return "translate(0," + i * barHeight + ")"; });

  bar.append("rect")
      .attr("width", function(d) { return x(d.value); })
      .attr("height", barHeight - 1);

  bar.append("text")
      .attr("x", function(d) { return x(d.value) - 3; })
      .attr("y", barHeight / 2)
      .attr("dy", ".35em")
      .text(function(d) { return d.value; });
});

function type(d) {
  d.value = +d.value; // coerce to number
  return d;
}

</script>

