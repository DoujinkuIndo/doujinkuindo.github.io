## Nginx 学习

nginx做本地目录映射

    有时候需要访问服务器上的一些静态资源，比如挂载其他设备上的图片到本地的目录，而本地的目录不在nginx根目录下，这个时候就需要简单的做一下目录映射来解决，比如想通过浏览器http://ip/image/e2/7d/c27df08cdae8ce784a199d8004ef4f81.jpg访问到系统目录/public/uploads/e2/7d/c27df08cdae8ce784a199d8004ef4f81.jpg需要在nginx.conf中添加location规则，配置如下：

```js
location /image/ {
    root /;
    rewrite ^/image/(.*)$ /image_data/$1 break;
}
```

location /image/设置服务器拦截含有/image/的请求，实际上范围根据实际情况确定精确度

root /;设定作用的根目录，rewrite就是真正的跳转规则，设置以uploads为开头的请求跳转到/uploads开头的根目录，后面的参数原封不动的添加过去，这样就实现了目录的映射，

使用上面的规则可以很方便的映射到本地指定的多个用于静态访问的目录

保存之后使用 ./nginx -s reload 重新载入配置文件，访问指定的url就访问到了