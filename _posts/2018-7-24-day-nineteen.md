I spent today working with DOLPHOT and made a lot of progress. 

## DOLPHOT
I started this morning with a text conversation with Rory about DOLPHOT. I told him about my issue with the terminal not recognizing DOLPHOT's commands, and he told me about adding the folder 'dolphot2.0' to the terminal's PATH. It's required that the PATH include whatever directories hold the commands you want to use -- assuming they're not biult-in (like almost everything). This is some really basic "how to use the terminal" stuff, but I honestly didn't know it until now. Better late than never, I guess. It makes a lot of sense in the context of everything else I know about computer science, though. So, let's give adding dolphot2.0 to the PATH a shot. In his blog, Rory reccomended [this page](https://hathaway.cc/2008/06/how-to-edit-your-path-environment-variables-on-mac/) for learning how to do just that. 

Following those simple directions, I opened the '.bash_profile' document and found that it is locked and I can't edit it. No problem; I also saw that the current PATH unsurprisingly points to the 'anaconda/bin' directory, so I'll just move 'dolphot2.0' there and see what happens -- actually, on second thought, I'll just copy all the files in 'dolphot2.0/bin' and paste them into 'anaconda/bin'. I think this is smarter based on how I think computers look at things in directories. After I did that, I moved back to the [PYDOLPHOT tutorial](https://github.com/dweisz/pydolphot) with my fingers crossed and heart racing hoping everything works now. 

It WORKED!! I literally wiped my brow. 

For a single image, I was able to create a mask over bad pixels with `wfc3mask`, then split that image into '.chipx.fits' images using the `splitgroups` command. Woo! I got two chips for the ['flc.fits' type image I'm using for practice](https://github.com/thom-ory/thom-ory.github.io/blob/day-nineteen/images/raw.jpeg). Rory has said that each image is supposed to split into 15 smaller ones, but I'm not super sure that's true. I'm not sure it's untrue, either, but it would make more sense to me if the number of chips you got depended on things like the image's size, background variation in the image, whether or not it's a composite image, the number of bright sources and how they're distributed throughout the image, etc., etc. EDIT: I talked to Rory again and he said that the 15 chip thing is wrong and I was, too. The WFC3 on Hubble has two CCDs, so you just get two chips for each picture. Nice. 

_note: when I say "'.chpix.fits',"'x' is a placeholder for an integer ID 1, 2, 3..._ 

---

Next, I did `calcsky` to preprocess the images and ready them for photometry. The next step is to modify some of the parameter files for your data. This is proving tricky and is challenging both my astronomy and computer science skills. The tutorial is actually wrong on a few things -- I think. I think it's because the tutorial might be talking about PYDOLPHOT while I'm using DOLPHOT, although the author claims that the first part of the tutorial (which is what I'm currently reading) is for the original version, DOLPHOT. I think if I think on my feet I can adapt these instructions to what I need. 

So, the main difference between what the tutorial says and what I think is correct is that the author wants you to write a new file called 'phot.param', but there's already a folder in 'dolphot2.0' called 'param' that contains five files called 'dolphot.param', 'apphot.param', 'ccdproc.param', 'fits.param', and 'synthimage.param'. I feel confident that editing these files is the way to go, not writing a new file, because 1) all of the lines of code that I see in his 'phot.param' file can be found in one of the '.param' files already in 'dolphot2.0.param', 2) DOLPHOT is likely already looking at the 'param' directory for this infomation, and 3) this tutorial was written by a single person for use with PYDOLPHOT; the one author, who was not on the team that made the original DOLPHOT, might have made a mistake (like humans do), or they're preparing you for PYDOLPHOT, which I believe does require the writing of a 'phot.param' file. I'm going to go through his 'phot.param' file and find where each line of code is in the other '.param' files I already have and modify them appropraitely. 

In editing the parameters, I found that every single line of code that the tutorial says to write is actually in just one document, 'dolphot.param'. Moreover, I found that when you execute `dolphot` in the terminal, you have to specify which file you want to use as the parameter file. So, I suppose it doesn't actually matter whether or not you write a new file, but I still prefer editing the one that's already there; it's faster and more complete. Also, if I had to guess, if you didn't specify a parameter file, it would default to 'param/dolphot.param', but I'll specify for safety. 

I tried to edit the parameters as logically as I could to produce the most accurate results, with preference for accuracy over speed or processor/memory limits(these Macs are powerful). I either went with what was already written in 'dolphot.param', what the tutorial suggested, or a tantalizing option I found in the helpful annotations of 'dolphot.param'. There's one parameter for which I'm not sure what to put: `RSPF`, or radius for the point-spread function. 'dolphot.param' had 13 pixels there already, but the tutorial suggests 10 pixels. I think maybe the right answer lies in the documentation for the WFC3, but for now I went with 10 pixels because that seems more precise (assuming it's like the little boxes you use for 2D background subtraction, in which a smaller box is like a smaller pixel so leads to a sharper background image. I honestly don't think like that, but I'll figure it out when I do real photometry; right now I just want something). I also turned off CTE corrections because I think flc.fits files are already corrected for this. Finally, I looked through the rest of 'dolphot.param' and messed with anything else I thought I should, like parameters for the WFC3 module that the tutorial doesn't have, among others. I mostly didn't mess with the other commands, except to increase accuracy or to comment out a line if it seemed like something that didn't apply. 

Time for the moment of truth. It doesn't quite work right off the bat, but what's new. The [original DOLPHOT manual](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/dolphot_userguide.pdf) makes a lot more sense to me now that I kind of understand DOLPHOT a little bit, and the tutorial I've been looking at has run out of usefulness for me, especially because I'm now wholly uninterested in using PYDOLPHOT. It seems like an extra complication with little benefit, and it turns out that it doesn't matter that DOLPHOT is in C because I never have to edit the original code -- only the parameters, which aren't C or Python. So, I'm switching over to reading the manual and abandoning the tutorial. Right now I'm reading the section about DOLPHOT's output, because I'm getting a confusing output: I get "[2] 7966" then on a new line "[1]   Done" and my original input `dolphot ngc6819_ib2o03p8q_flc.phot -dolphot.param >> phot.log` back. (Actually, I ran it a few times with different inputs and the four digit number in the output varied but was always some version of "79XX." I decided that the above command was the best input, and 7966 was that input's output). This section will help me decode the output code (wordplay intended) so that I might get something useful. As it's getting late, that's where I'll start tomorrow. 

# Conclusion
I now see why Dr. G had us do our own photometry codes in the beginning; I definitely required the knowledge I learned in that process to edit the parameter file. It was indispensible. I'm now pretty happy with my progress. As far as I can tell from the manual so far, it's sort of working, though maybe with errors or not detecting all of the stars. I think the code I got as an output means something useful for photometry. I think I'm at a good stopping point, and when I come in tomorrow I'll read the manual and have something tangible to apply that reading to. 
