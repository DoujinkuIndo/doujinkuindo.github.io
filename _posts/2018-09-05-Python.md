---
layout: post
title: Python Trick
---

# python函数命名参考
```python
my_function  
outer  
inner  
scope  范围  
input_parameter:输入参数
func()
row    行  
col/column 列    
default values  
informs  
foo  
```





整除：   7//3 = 2  
求余数： 7%3 = 1  
直接除： 7/3= 2.333  
# ------------------------------------------------------------------------------
列表翻转：  
a = ['1', '2', '3']  
a.reverse()  
print(a)  
>> ['3', '2', '1']  
# ------------------------------------------------------------------------------
列表extend、append  
a = ['1', '2', '3']  
b = a[::]  
c = a[::]  
d = a             # d = a, d = a*2这些操作都会使得a、d绑定  
a.append('4')  
print(a)  
>> ['1', '2', '3', '4']  
b.append(['4', '5'])  
print(b)  
>> ['1', '2', '3', ['4', '5']]  
c.extend(['4', '5'])  
print(c)  
>> ['1', '2', '3', '4', '5']  
d.append('6')  
print(d)  
>> ['1', '2', '3', '4', '6']  
print(a)  
>> ['1', '2', '3', '4', '6']    # 这种直接等于 a和d操作一样了  
# ------------------------------------------------------------------------------
m = ['6', '3', '9', '1']  
m.sort()   # 直接改变原来列表  
print(m)  
>> ['1', '3', '6', '9']  
# ------------------------------------------------------------------------------
s = ''  
s += '1'    # 字符直接，字符可以索引，可以求len(s)，但是没有反转操作  
print(s)  
>> 1    # 字符输出  
# ------------------------------------------------------------------------------
# 程序读入输入  
# 求两个数和  
import sys  
for line in sys.stdin:  
    a = line.split()   # a是字符，按空格分开  
    print(int(a[0]) + int(a[1]))  
>> 2 7  
>> 9  
n = sys.stdin.readline().strip()   #读入一个数  
print((int(n)))  
>> 3         #这是系统等待键盘输入的  
>> 3  
或者使用input输入  
n = input()   # 这样直接输入是字符  
print(int(n))  
>> 1      # 字符  
>> 1      # 整数  
# ------------------------------------------------------------------------------
n = int(sys.stdin.readline().strip())  
for i in range(n):  
    line = sys.stdin.readline().strip()   
    values = list(map(int, line.split()))  # map映射  
    print(values)  
>> 2  
>> 1 2 3  
>> [1, 2, 3]  
>> 4 5 6  
>> [4, 5, 6]  
# ------------------------------------------------------------------------------
# 字符或列表切片反转  
s = 1234  
s_r = s[::-1]   # 以1为间隔反向获取s  
print(s_r)  
>>4321  
# ------------------------------------------------------------------------------
a = float(input())  
print('{:.2f}'.format(a))   # 保留两位小数  
>> 123.456  
>> 123.46  
# ------------------------------------------------------------------------------
a = [1, 3, 6, 9]  
del a[0]  
print(a)  
>> [3, 6, 9]  
# ------------------------------------------------------------------------------
a, b, *rest = range(5)  
print(a, b, rest)  
>> 0, 1, [2, 3, 4]  
# ------------------------------------------------------------------------------
a = '[1,2,3]'  
print(a[-1])          # 输出最后一个元素  
>> ]  
print(a[1:-1])  
>> 1,2,3  
# ------------------------------------------------------------------------------
list添加元素方法  
a = list([1, 2, 3])  
a.insert(0, 4)  # 在list第0个位置增加一个元素4，相当于在表头插入元素  
print(a)  
>> [4, 1, 2, 3]  
a += [5, 6]  
print(a)  
>> [4, 1, 2, 3, 5, 6]  
# ------------------------------------------------------------------------------
一个下划线定义非公共变量：  
class Person:  
    def __init__(self, first_name, email):  
        self.first_name = first_name  
        self._email = email  

上面的self.__email是定义在Person类下的非公共变量，不建议外部函数调用。但是其实也可以外部调用，会提醒写法不好。  
两个下划线定义非公共变量：  
class Person:  
    def __init__(self, first_name, email):  
        self.first_name = first_name  
        self.__email = email  

上面的self.__email前面现在有两个下划线了，那么它只能在Person类下面使用，不允许外部调用。即使在同一个py文件，只要不再Person类下面都不能调用。其他py文件也不可以。  
# ------------------------------------------------------------------------------
import random  
a = [0, 1, 2, 3]  
random.shuffle(a)  
print(a)  
>> [2, 0, 3, 1]  
# ------------------------------------------------------------------------------
import numpy as np  
inds_inside = np.array([[0, 7, 9, 1, 5], [3, 1, 6, 2, 4]])  
over = [1, 0, 0, 1, 0]   # 哪一行  
ind = [0, 1, 2, 3, 4]   # 那一列  
print(inds_inside[over, ind])  # 一次取出来  
>> [3 7 9 2 5]
# ------------------------------------------------------------------------------
a = [1, 2, 3, 4]  
b = a.pop()  
print(a, b)  
>> [1, 2, 3] 4  
a.pop(0)  
print(a)  
>> [2, 3]  
del a[0]  
print(a)  
>> [3]  
# ------------------------------------------------------------------------------
print('{:.5f}'.format(1))  # 保留五位小数  
>> 1.00000  
# ------------------------------------------------------------------------------
# list列表和numpy数组相互转换：
import numpy as np  
a = [[1, 2, 3, 4], [1, 2, 3, 4], [1, 2, 3, 4]]  
b = np.ascontiguousarray(a, dtype=np.int)  # 列表转数组  
print(b)  
>> [[1 2 3 4]  
 [1 2 3 4]  
 [1 2 3 4]]  
c = b.tolist()   # 数组转列表  
print(c)  
>> [[1, 2, 3, 4], [1, 2, 3, 4], [1, 2, 3, 4]]  

# ------------------------------------------------------------------------------
import numpy as np  
a = np.array([1, 2, 3])   # shape: (3,)  
b = np.array([1, 2])      # shape: (2,)  
c = np.dot(a[:, None], b[None, :])   
 # 通过a[:, None]来增加一个维度，将a的shape变为(3，1), b:(1，2)  
 # 输出shape: (3, 2)  

# ------------------------------------------------------------------------------
eval妙用：  
eval可以直接计算函数表达式的值  

eval可以直接将字符表达式转为对应的列表形式、元组形式或者字典形式：   
a = "[[1,2], [3,4], [5,6], [7,8], [9,0]]"  
print(type(a))  
>> str  很明显这里是字符形式  
b = eval(a)   # 这里就可以将a直接变为列表形式了  
print(b)  
>> [[1,2], [3,4], [5,6], [7,8], [9,0]]  
print(type(b))  
>> list  
# ------------------------------------------------------------------------------
dp = [[0]*3]*2   # 这种赋值会使得所有列表属性绑定  
dp[0][0] = 1  
print(dp)
>> [[1, 0, 0], [1, 0, 0]]  # 所有维度第一维都是1了  
# ------------------------------------------------------------------------------
python一个py文件是一个module（模块）.一个文件夹可以看为一个包（包含一个__init__.py文件和很多module或者很多子包（子文件夹））  
# ------------------------------------------------------------------------------
导入同一个文件夹下的py文件： import .XXX.py    # 前面直接价格点索引就好  

# ------------------------------------------------------------------------------
print("#".join("duan"))  
>> d#u#a#n         # 在每个字符之间加入字符#  

join可以将一段字符连接起来：  
mylist = ['I', "will", 'be', 'better']  
ml = ''.join(mylist)   # 直接连接，中间不加东西  
print(ml)  
>>Iwillbebetter  
 dl = ' '.join(mylist)   #用空格连接  
print(dl)  
>>I will be better  
# ------------------------------------------------------------------------------
mydict = {"one": 1}  
mydict["two"] = 2   # 直接给字典添加key和value  
print(mydict)  
>> {'two': 2, 'one': 1}  
# ------------------------------------------------------------------------------
python console中输入：  
1 + 2  
>> 3  
_           # 下划线直接表示上一次运行的结果  
>> 3  
_ + 1  
>> 4  

x = 5  
5 == x > 4  # 链式比较，相当于x == 5 and x > 4  
>> True  
# ------------------------------------------------------------------------------
for else .. 用法：  

foo = [1, 2, 3, 4]  
for i in foo:  
    if i ==0:  
        break  # 执行break则不执行else，否则执行else  
else:  
    print('i was never 0')  
# ------------------------------------------------------------------------------
python单引号和双引号还是不同的 注意统一  
# ------------------------------------------------------------------------------
bn_list = [[3, 7.89], [2, 6.54], [8, 0.32]]  
bn_list.sort(key=lambda f: f[1], reverse=True)  # 按照第二个维度从小到大排序,并设置reverse反转，即大的在前面  
print(bn_list)  
>> [[3, 7.89], [2, 6.54], [8, 0.32]]  
# ------------------------------------------------------------------------------
from itertools import count  

for n in count(5, 3):  # 从5开始以3为步长增加迭代至无穷，相当于while
    print(n)  
    if n > 100:  
        break  
>>5  
>>8  
>>11  
>>...
# ------------------------------------------------------------------------------
b = [[5, 1], [2, 1]]  
a = [1, 2]  
for c in zip(a, b):  # zip函数  
    print(c)   
>>(1, [5, 1])
>>(2, [2, 1])
# ------------------------------------------------------------------------------
def multiple(arg, *args):    # 多输入表示  
  print("arg: ", arg)  
  for value in args:  
    print("other args:", value)  
if __name__ == '__main__':  
  multiple(1, 'a', True)    
>>arg:  1
>>other args: a
>>other args: True
# ------------------------------------------------------------------------------
a = [5, 9, 2, 4, 7]  
b = [3, 7, 1, 9, 2]  
c = [6, 8, 0, 5, 3]  
max_v = list(map(lambda n: max(*n), zip(a, b, c)))  # *号表示不知道输入变量  找出3个输入每个对应大小  
print(max_v)  
>>>[6, 9, 2, 9, 7]    
# ------------------------------------------------------------------------------
test = [2, 5, 8, 0, 0, 1, 0]  
list(filter(None, test))    # filter
>>> [2, 5, 8, 1]  
list(filter(lambda x: x, test)) # equivalent to previous one  
>>> [2, 5, 8, 1]  
list(filter(lambda x: x > 4, test)) # keep only items > 4  
>>> [5, 8]  
# ------------------------------------------------------------------------------
def func(arg1, arg2, ...):  
	pass  
func = deco1(deco2(func))  
# is equivalent to the following:
@deco1  
@deco2  
def func(arg1, arg2, ...):  
	pass  
#  ------------------------------------------------------------------------------
def func(arg1, arg2, ...):  
	pass  
func = decoarg(argA, argB)(func)  
# is equivalent to the following:
@decoarg(argA, argB)  
def func(arg1, arg2, ...):  
	pass  
# ------------------------------------------------------------------------------
c = []
c += "abc" # len(c) = 3
print(c)
>>> ['a', 'b', 'c'] # 会把元素一次加一起
c = []
c += "abc",     # 这里加上一个,相当于把“abc”看成一个元素  这句话相当于c.append("abc")
print(c)
>>> ["abc"]
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
