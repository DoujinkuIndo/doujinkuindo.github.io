---
layout: post
title: python-try
---

**목차**입니다

- [1. try it](#1-try-it)
- [2. try except finally](#2-tryexceptfinally)
- [3. 질문](#3-질문)
- [다음에는](#다음에는)

## 1. try it

코드를 작성하고, 실행하고.. 디버깅하고

평범한 코드 작성법이다. 그러나 프로그램을 작성하며

버그가 생길수도 있는 코드가 **꼭** 필요할 때가 있다.

예시로 ~~나중에 설명할~~ `open` 명령어는 말 그대로 파일을 읽는 명령어이다.

그러나 파일을 읽는다는것은 상당한 위험을 동반한다. 예시를 들자면

파일이 깨져있거나, 읽던 도중 에러가 발생하거나.. 등등 셀수없이 많다.

하지만 오류가 발생한다면 프로그램이 **강제로** 실행 도중에 종료된다.

바로 이럴때를 위한 명령이 바로

## 2. try~except~finally

이다.

**아래**와 같은 형식으로 사용된다.

~~~python
try:
    오류발생 가능한 코드들
except:
    오류 발생시 실행할 코드들
finally:
    무조건 실행할 코드들
~~~

여기서 `finally`는 생략이 가능하며, 코드들을 삽입하는데에 제한은 없다. ~~컴퓨터에 달려있다~~

## 3. 질문

Q : 굳이 사용해야 하나요?

A : 오류는 원래 예측하지 못한 상황에서 발생하기에,

가능하다면 **사용하는것이 좋습니다.** 대부분의 프로그램에서도 이러한 구조를 사용하여

에러를 최소화 시키고, 최대한 많은 상황에 대처할수 있게 만듭니다.

예시를 들어보면

이러한 에러가 발생하는 코드가 있다고 해봅시다.

~~~python
import xddjk # 존재하지 않는 모듈 -> err 발생
~~~

이 코드가 실행된다면 뒤의 코드를 무시하고 오류로 프로그램이 종료될 겁니다.

**그러나** 앞에서 말했던 try~except 로직을 사용하면

~~~python
try:
    import xddjk
except:
    print("error") # 중간에 프로그램이 강제종료되지 않고, error 을 출력하며 종료됩니다.
~~~

이렇듯 좀더 ~~~**고급**지고 **있어보이는**~~~ 안정적인 코드를 작성할수 있습니다.

Q : finally를 사용하는 이유가 무엇인가요?

A : 예시를 하나 들어보겠습니다. 여기, 파일에 기록을 남겨 읽고,

그 결과를 출력하는 코드 하나가 있습니다.

현재 아직 `open`을 배우지 않았기에 설명으로 대체하겠습니다.

~~~python
try:
    a = 파일 연 값
    if a == 100:
        실행될 코드
    else:
        파일에 100이라는 숫자를 기록
except:
    print("err!")
finally:
    a = 파일 연 값
    파일을 초기화
~~~

이 코드는

1. a에 파일을 열어 대입

2. a가 100이라면 코드 실행

3. 아니라면 파일에 100을 기록

4. 마지막으로 파일을 초기화

이러한 순서대로 진행됩니다.

만약 여기서 `finally`가 없었다면 어떻게 될까요?

네, 그렇습니다. 바로 한번 실행시키면 다음 실행부터는

곧바로 if문 안으로 들어간다는 거죠.

그렇게 되면 매번 실행할 때마다 바로 코드를 실행시키게 됩니다.

마지막 `finally`에 의해 초기화가 진행되지 않아서 일어난 거죠.

그러나 이런 상황이 마냥 나쁜것은 아닙니다. 현재는 좋지 않은 예시로

이 코드를 설명했지만 프로그램이 처음 실행될때만 진행되는 이른바 "초기설정"

역할로 사용할수 있는 **좋은** 예시가 될수도 있는 겁니다.

코드가 길어진다면, 사람들은 본문을 읽지 않고 작성한 사람의 코멘트를 봅니다.

그러나 그 코멘트만 보고 코드를 실행한다면 그 코드의 다른 활용법을

찾을수 없을 것입니다.

## 다음에는

다음에는 코드를 분석하는, 즉 **읽는 방법**에 대하여 배워볼 것입니다.

코드를 작성할 줄만 알고, 읽는법은 모른다면 굉장히 웃긴 상황일텐데요.

그런 위험을 피하기 위해 다음글에서 그 방법을 소개하도록 하겠습니다.
