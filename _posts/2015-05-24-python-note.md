---
layout: post
title: Python 点滴
---

Python 学习笔记--Closures


1. Closures 本质

	Closures 即闭包，其本质是可以为一个函数提供一个额外的变量名字空间——即介于闭包函数（内含数）和外函数之间的名字空间。
	
	当内含数引用外函数名字空间的变量时，内含数即称为闭包。

2. Clousers 和普通函数的区别

	闭包带有不同于一般函数的名字空间：即带有全局的名字空间；局部名字空间；和介于闭包函数和外函数之间的名字空间。该空间的变量称为自由变量，即这些变量不随定义其的外函数执行的结束而被释放，而是自由地存放，随闭包函数的实例而处于“流浪”状态；可共闭包函数随时访问，直至闭包函数执行结束。
	
	闭包函数在使用方式上有些类似与回调函数，不过由于闭包多出来了这个名字空间，使其拥有比回调强大得多的功能。 Python 装饰器采用闭包实现。

3. Closures和类的相似及区别

	闭包带有额外的名字空间的这个特点和类有点相像，类方法可以访问类名字空间定义的变量，而不仅仅局限于全局和局部名字空间。
	
	不过类属性所在的空间也是一个局部名字空间，是属于类的。
	
	闭包函数之所以强大就是因为其多出的这个名字空间，使其具备了一定类似于类操作的功能。 类思想是不是由此生发扩展而来的（臆想）？

4. Closures 和装饰器
	
	Python 装饰器 = Closeure + @语法糖；
	
	@语法糖的作用：
	
	`
	@bar 
	def foo():
		print "foo" 
	
	## 等价于
	
	def foo():
		print "foo" 
	foo = bar(foo)

	`

	
	

	