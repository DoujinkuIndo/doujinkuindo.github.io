---
layout: post
title: 2019년 5월 15일 TIL
date: 2019-05-15
comments: true
categories: [TIL, til]
tags: [Token, JWT]
excerpt: ""
---

토큰은 사용자를 인증하는 방법중의 하나 인데, 요청이 왔을 때, 서버에서 발행된 토큰이 맞는지만 확인하여 쓰기 때문에 **stateless하게 인증**을 할 수 있다는 장점이 있다. 인증 헤더 내에서 사용되는 토큰 포맷인 JWT(Json Web Token)을 많이 쓴다. 토큰은 강제로 폐기할 수 없기 때문에 토큰 생성 시, 유효기간을 설정하여 주기적으로 재발급 받아 보안을 강화할 수 있다.

보통 사용자가 로그아웃을 하면 client 단에서는 local storage에 저장해 놓았던 토큰 정보를 삭제하게 되는데, server 단에서는 유효기간이 만료되지 않았다면 토큰을 강제로 폐기시킬 수 없기 때문에 다른 방법을 써야한다.

이 때 쓸 수 있는 방법이 **DB에 tokenblackist를 저장**하여, 요청이 들어올 때마다 blacklist에 등록된 토큰인지 확인하는 것이다.

![logoutwithjwt](/images/logoutwithjwt.jpeg "logoutwithjwt")

---

<span class="reference">참고자료</span>

[How to log out when using JWT](https://medium.com/devgorilla/how-to-log-out-when-using-jwt-a8c7823e8a6)
