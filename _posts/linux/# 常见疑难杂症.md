# 常见疑难杂症

### 重启一个服务
service xxxx restart : 重启xxx服务
eg. service network restart

### 查看ip
ipconfig -a

### 网卡正确配置的情况下，无法访问网络
重启一下network服务
为了避免每次都要重启network服务，应该配置自动启动network服务


### virtual box 网络配置


### 无法连接ftp文件服务器

1. 注意内网IP和外网IP
2. 检查ftp服务是否启动 （面板首页即可看到）
3. 检查防火墙20端口 ftp 21端口及被动端口39000 - 40000是否放行 （如是腾讯云/阿里云等还需检查安全组）
4. 是否主动/被动模式都不能连接
5. 新建一个用户看是否能连接
6. 修改ftp配置文件 将ForcePassiveIP前面的#去掉 将192.168.0.1替换成你服务器的外网IP  
from https://www.bt.cn/bbs/thread-1903-1-1.html
另见，主动模式与被动模式：https://blog.51cto.com/meiling/2071122
### iptables 没用
CentOS7中执行
service iptables start/stop
会报错Failed to start iptables.service: Unit iptables.service failed to load: No such file or directory.

在CentOS 7或RHEL 7或Fedora中防火墙由firewalld来管理，

如果要添加范围例外端口 如 1000-2000
语法命令如下：启用区域端口和协议组合
firewall-cmd [--zone=<zone>] --add-port=<port>[-<port>]/<protocol> [--timeout=<seconds>]
此举将启用端口和协议的组合。端口可以是一个单独的端口 <port> 或者是一个端口范围 <port>-<port> 。协议可以是 tcp 或 udp。
实际命令如下：

添加
firewall-cmd --zone=public --add-port=80/tcp --permanent （--permanent永久生效，没有此参数重启后失效）

firewall-cmd --zone=public --add-port=1000-2000/tcp --permanent 

重新载入
firewall-cmd --reload
查看
firewall-cmd --zone=public --query-port=80/tcp
删除
firewall-cmd --zone=public --remove-port=80/tcp --permanent
--------------------- 
from https://blog.csdn.net/c233728461/article/details/52679558 
