---
layout: post
title: 2019년 6월 5일 TIL
date: 2019-06-05
comments: true
categories: [TIL, til]
tags: [React Native, 웹뷰]
excerpt: ""
---

google social 로그인 시 계정연결을 위해 **Webview** 를 씀

- userAgent를 설정해 주어야 함

```javascript
import React, { Component } from "react";
import { SafeAreaView, Platform, View, WebView } from "react-native";

let userAgent =
  "Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/ 604.1.21 (KHTML, like Gecko) Version/ 12.0 Mobile/17A6278a Safari/602.1.26";
if (Platform.OS !== "ios") {
  userAgent =
    "Mozilla/5.0 (Linux; Android 8.0.0; TA-1053 Build/OPR1.170623.026) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3368.0 Mobile Safari/537.36";
}
export default class MyInlineWeb extends Component {
  render() {
    return (
      <View style={{ height: 150, width: 350, flex: 1, overflow: "hidden" }}>
        <WebView
          userAgent={userAgent}
          style={{ marginTop: 20 }}
          originWhitelist={["*"]}
          source={this.props.source}
        />
      </View>
    );
  }
}
```

- 뿐만아니라, xcode의 AppDelegate.m에도 아래 내용을 추가해 주어야 함

```javascript
NSString *userAgent = @"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36";
NSDictionary *dictionary = [[NSDictionary alloc] initWithObjectsAndKeys:userAgent, @"UserAgent", nil];
[[NSUserDefaults standardUserDefaults] registerDefaults:dictionary];
```
