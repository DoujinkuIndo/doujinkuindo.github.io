So, you may have noticed that yesterday's post was a little bit late; I didn't post it until early this afternoon. That's because I cheated a little bit so that I could get the graph comparing the two [phot_table_y/nbkg.txt](https://github.com/GosnellResearchGroupSummer2018/NGC6819/tree/master/photometry%20codes/Comparisons_of_methods) files. I had a lot of trouble getting the scatterplot to function correctly, and hoped to have it posted way earlier. I should have just posted what I had and added the graph today. 

I think the trouble came because when [aperture_photometry.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/aperture_photometry.py) wrote the data to the text file, it saved it as an nx4 array that confused the `plt.scatter()` command in [comparing_backgrounds.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/Comparisons_of_methods/comparing_backgrounds.py). I tried a couple different ways of changing the data type (changing it to a `list()`, changing it to an nx1 array, etc.) but ended up just circumventing the problem by doing the photometry twice using both methods (subtracting the background before soure detection and detecting sources with the background still in the image) and then plotting the results against each other all within [comparing_backgrounds.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/Comparisons_of_methods/comparing_backgrounds.py). This behaved nicely. The two datasets plotted against each other should run exactly along the y = x line because the difference between the two methods shouldn't effect data I'm actually using from the `DAOStarFinder()` command in [aperture_photometry.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/aperture_photometry.py), but there are some nuances that change the overall result of the photometry slightly. When I add error bars to that plot, as is my goal today, we should be able to tell which is better or that there's no difference between the methods. 

## Error Bars [comparing_backgrounds.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/Comparisons_of_methods/comparing_backgrounds.py) 
It turns out that this error estimation is going to be harder than I thought. Figuring out the right lines of code wasn't too bad; I added them to both [aperture_photometry.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/aperture_photometry.py) and [comparing_backgrounds.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/Comparisons_of_methods/comparing_backgrounds.py). The hard part is going to be figuring out what the right errors are. I need to get an array that has the error for each pixel, because right now the way the code works is to calculate the total error within the aperture object by squaring the error for each pixel, adding all the squares together, then performing a square root on that total. So, the code needs each pixel's error in order to determine the total error for each source. I thought for awhile about what the best next step would be, and decided that I needed to go all the way back to the source of the data to get that error. So, I looked at MAST and tried to see what I could, and there was some helpful information about which instrument was used, RA and Dec, what the fields that made up the image were, when and for how long this image was being taken, etc. I also looked at the header of the .fits file and saw some things that look important (photometry keywords) and might help me with this error estimation, but I don't really understand them yet. I looked up more about the Wide Field Camera 3 (WFC3), the instrument that took this data, and found some [user manuals](http://www.stsci.edu/hst/HST_overview/documents/) about how to do HST data analysis, as well as WFC3 data analysis ([HST](http://www.stsci.edu/hst/HST_overview/documents/datahandbook/toc.html), [WFC3](http://www.stsci.edu/hst/HST_overview/documents/datahandbook/toc.html)). I'm going to read these tomorrow and see if I can figure out what to do next. These should help me figure out error estimation and will undoubtedly give me helpful information I can't predict yet. I think most of the handbook on HST will be about drizzling images, which I won't have to do since we have them already drizzled. Still, there will be more than just that there. 

## Coding
I went back to [aperture_photometry.py](https://github.com/GosnellResearchGroupSummer2018/NGC6819/blob/master/photometry%20codes/aperture_photometry.py) and annotated it so the code is understandable to anyone who just picks it up. 

# Conclusion
I'm not sure if I'm chasing a rabbit down his hole with this error estimation thing. Maybe I should move on to PSF photometry... but that also seems premature. I will need to do error estimation in the future for sure, but I'm not sure if there's more photometry I should learn before I move on. I'm running into the issue of not knowing what I don't know (not knowing what I should learn next or even what there is to learn). I think reading the manuals is a good, tangible thing I can do for now; even if the info isn't immediately useful, it will be. 
