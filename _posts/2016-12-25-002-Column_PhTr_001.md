---
layout: post
title: フォトトランジスタ
---

「アナログ回路殆ど触ったことなくてハードルが高いですよね」とお話することがたまにあります。勿論GHz帯のアナログ回路は、電波的特性も発生しますので、インピーダンスの整合を取ったり、反射波の影響などを吟味して設計し、十分に検証する必要がありますが、RaspberryPi3等でA/Dコンバートする程度の(100Hz～1Hz)あたりは非常に平和ですから、そのあたりから触って光らせてみたり、テスタで電圧図ってみると面白いのではないかな、と思っています。

ということで、フォトトランジスタを例にご紹介してみようと思い、このポストを書いています。

- [フォトトランジスタ:NJL7502L](http://akizukidenshi.com/catalog/g/gI-02325/)

<!--break-->

まず「トランジスタ(npn: [代表例：1815](http://akizukidenshi.com/catalog/g/gI-00881/) )」について概要を書きますと、トランジスタは3本との端子を持っており、E(エミッタ)、C(コレクタ)、B(ベース)となっています。トランジスタを一言で言ってしまえば『入力電流を乗算した結果を出力電流とする』素子です。入力電流はB→E(ベース電流)で、この電流を流せば流すほど、C→E(コレクタ電流)が流れやすくなります（そのためB,C側が電源線に近く、E側がGNDになります）。フォトトランジスタは、トランジスタからB端子を外し、光度を入力として『入力光度が大きいほど、C→E電流(コレクタ電流)を流れやすくする』ものです。

では「光度が弱い場合はどうしましょう」という場合はどうするか、フォトトランジスタのC→E電流線を、トランジスタのBに接続しB→E電流にして、トランジスタのC→E電流の流れやすさに変換します。すると、フォトトランジスタに入力された光度の微弱な変化を、トランジスタのC→E(コレクタ電流)として観測することができます。あとは、A/Dコンバータは電圧を測定して数値化する素子（機能）ですので、抵抗を繋いで、 *電流値×抵抗値=電圧値* としてマイコンに入力すれば完了です。

![PhTr](https://xinolinx.github.io/images/PhTr_image_001.png)

ね、簡単でしょう。 

- *[BlueLinx/HardwareDesign/BlueLinx_v1_Main.pdf](https://github.com/xinolinx/BlueLinx/blob/master/BlueLinx/HardwareDesign/BlueLinx_v1_Main.pdf) より*
- *ちなみにトランジスタを多段接続する構造を"ダーリントン接続"と呼びます。*
