---
title: 2.1 GC
layout: categories
tags:
  - Java
  - GC
categories:
  - Java
---

### 2.1.1 Java内存模型与内存管理
* Young Memory Generation (年轻代)
    * Eden
    * S0 (幸存区, Eden满后通过Minor GC将对象移动到这)
    * S1 (幸存区, Eden满后通过Minor GC将对象移动到这)
* Old Memory Generation (老年代)
    * Minor GC15次后还存活 / S1满后且Minor GC后, 将对象提前移动到老年代
* Permanent Generation (持久代)
    * 方法区 (运行时常量, 静态变量, 方法代码)
    * 运行时常量池(运行时常量, 静态方法)
    * Memory Pool(存储不可变对象, 如String)
* Java Stack
    * 线程堆栈
* GC类型
    * Minor GC
        * 扫描清除Eden区
    * Major GC
        * 扫描清除老年区
    * Full GC
        * 扫描清除Eden区, 老年区, 永久区

### 2.1.2 GC Roots (可达性)
* System Class
    * Class Loaded by Bootstrap/system class loader
* JNI Local
    * Local variable in native code.
* JNI Global
    * Global variable in native code.
* Thread Block
    * Object referred to from a currently active thread block
* Thread
    * a started, but not stopped, Thread
* Java Local
    * Local variable.
* Native Stack
    * In or out params in native code.
* Java Stack Frame
    * A Java stack frame, holding local variable
* 更多请参考[Garbage Collection Roots](https://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.mat.ui.help%2Fconcepts%2Fgcroots.html)
