## 1.1 MySQL数据类型
**整数类型**   
TINYINT/SMALLINT/MEDIUMINT/INT/BIGINT   
属性：UNSIGNED   
长度：可以为整数类型指定宽度，例如：INT(11)、对大多数应用是没有意义的。它不会限制值的合法范围，只会影响显示字符的个数。   
例：int(3) 值1234 zerofill 012 填充0的个数 int(0)

**实数类型**   
FLOAT、DOUBLE、DECIMAL
DECIMAL可以存储比BIGINT还大的整数；可以用于存储精确小数   
FLOAT和DOUBLE类型支持使用标准的浮点进行近似计算

**字符串类型**   
VARCHAR、CHAR、TEXT、BLOB
VARCHAR类型用于存储可变长度字符串，它比定长类型更节省空间   
VARCHAR使用1或2个额外字节记录字符串的长度，列长度小于255字节，使用1个字节表示，否则用2个

### 时间常用函数
1. NOW()函数以 ‘YYYY-MM-DD HH:MM:SS’ 返回当前的日期时间，可以直接存到DATETIME 字段中。   
2. CURDATE()以’YYYY-MM-DD’的格式返回今天的日期，可以直接存到DATE字段中。   
3. CURTIME()以’HH:MM:SS’的格式返回当前的时间，可以直接存到TIME字段中。

获取当前时间与i个月之间的天数：
```
SELECT DATEDIFF(CURDATE(), DATE_SUB(CURDATE(),INTERVAL 1 month));
```

### mysql中int,datetime,timestamp类型的区别与优劣
#### int
1. 占用4个字节
2. 建立索引后查询速度快
3. 条件范围搜索可以使用使用between
4. 不能使用mysql提供的时间函数

结论：int索引存储空间也相对较小，排序和查询效率相对较高一点点。适合需要进行大量时间范围查询的数据表。

#### datetime
1. 8个字节储存
2. 允许为空值，可以自定义值
3. 与时区无关

结论：datetime类型适合用来记录数据的原始的创建时间。

#### timestamp
1. 4个字节储存
2. 值以UTC格式保存
3. 时区转化 ，存储时对当前的时区进行转换，检索时再转换回当前的时区。
4. TIMESTAMP值不能早于1970或晚于2037
5. 默认值为CURRENT_TIMESTAMP()，其实也就是当前的系统时间

结论：timestamp类型适合用来记录数据的最后修改时间，因为只要你更改了记录中其他字段的值，timestamp字段的值都会被自动更新。

## 1.2 MySQL数据库设计规范与原则
### 命名规范
### 字段类型规范
### 索引规范
### 数据库范式
-  第一范式(1NF)：字段值具有原子性，不能再分(所有关系型数据库系统都满足第一范式)；例如：姓名字段，其中姓和名是一个整体，如果区分姓和名那么必须设立两个独立字段；
-  第二范式(2NF)：一个表必须有主键，即每行数据都能被唯一的区分；备注：必须先满足第一范式；
-  第三范式(3NF)：一个表中不能包含其他相关表中非关键字段的信息，即数据表不能有冗余字段；备注：必须先满足第二范式；

**简单来说：**
1. 字段不可分。
2. 有主键，非主键字段依赖主键。
3. 非主键字段不能互相依赖。

**备注**：往往我们在设计表中不能遵守第三范式，因为合理的冗余字段将会给我们减少join的查询；例如：相册表中会添加图片的点击数字段，在相册图片表中也会添加图片的点击数字段；

## 1.3 MySQL优化方案
### 硬件
### 系统配置
### 数据库表结构
### SQL语句与索引
#### 1.SQL语句
#### 2.索引优化
##### a.何时使用聚集索引或非聚集索引？

##### b.索引不会包含有NULL值的列：
只要列中包含有NULL值都将不会被包含在索引中，复合索引中只要有一列含有NULL值，那么这一列对于此复合索引就是无效的。所以我们在数据库设计时不要让字段的默认值为NULL。

## 其他
[1、分库分表技术演进&最佳实践-修订篇](https://mp.weixin.qq.com/s/3ZxGq9ZpgdjQFeD2BIJ1MA)

[2、MySQL双主（主主）架构方案](https://www.cnblogs.com/ygqygq2/p/6045279.html)