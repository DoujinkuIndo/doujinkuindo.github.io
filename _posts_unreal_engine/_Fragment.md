---
layout: post
title: Fragment
---

## 언리얼 직렬화에 대해서
https://mm5-gnap.tistory.com/359

## 스켈레톤 공유

스켈레톤을 공유함으로써 보다 구체화 할 수 있습니다.

## Apex Destruction

Apex Destruction을 사용하네. 원하는 물체를 부분적으로 부수는건 불가능하다고 생각하고, 확실히 콜리전을 이해한 다음에 작업해야 하네.

물리 시뮬이 들어가게 되면, 버그가 굉장히 많을 수 있다?!
공포게임 같은 경우, 문에 끼어서 움직인다던지, 그런걸 굉장히 조심해야 한다.

하필이면 포트폴리오로 제출했는데 버그가 발견되면,,, 물리력은 연출용으로만 쓰도록 하자!

자연스러운 물체의 디스트럭션을 보여줄려면, 물체의 모양대로 충돌을 해야한다?!?

두 원스를 추가해서 ApplyDamage를 자연스럽게 할 수 있다?

## 네이밍

헝가리안 표기법에서, 
액터는 헝가리안 표기법을 쓰고, 그외에는 딱히 안씀
왜? 액터가 너무 많아서 관리가 안됨.

언리얼 내이밍을 많이 고민했다고 한다. 언더바는 스페이스로 자동으로 바꿔주는 문제가 있다. 검색 과정에 문제가 있어서, `-`으로 하이픈으로 바꾸면 가능하다.

언리얼로 게임만들 때, 엔간하면 물리충돌로 만들지 마라, 그럴만도 하지. 느리닌까.
물리엔진을 연출로는 써도 되는데, 게임 시스템으로는 쓰지마라. 물리엔진이 문제가 있따.

계층구조에서 따로있다면, 이는 서로 상관없음을 의미한다. ?!?
주의사항은. 아, 언리얼은 지가지 몸하고도 충돌을 함. 배치모드에서는 자기가 자기몸이랑 충돌이 안일어남.

예를 들어 폭탄을 미리 설치해놓고 터트리면 바로 안터지는데, 게임중에 스폰하면, 바로 터질 수 있음.

이럴 때, 콜리전 언에이블을 조절해서 사용한다.

먹는 아이템의 워크플로우,
먹는 아이템에서 콜리젼을 추가한 후, 콜리전 인어블을 쿼리로, 기본 무시, 폰에 대해서만 오버랩으로 설정, 비긴 오버랩 이벤트에 이벤트 호출로 구현.

**RootComponent를 SceneComponent로 만들면, 물리력이 전달이 안된다? 세상에 그런게 있나보네. 월드 물리랑 상호작용해야 할 때는 끼고 만든다? 뭔소린지 모르겠네**

겉보기에는 무시인지 겹침인지 구분할 수 있는 방법이 없음? 알 수 있는 방법은 이벤트의 호출임.

서브모듈 관리하기.,

## 생성한 컴포넌트를 어테치 하지 않는다면
Component를 어테치 안하면, 스케일만 조정할 수 있게 되네. 몰랐던 사실을 알았다.
그리고 당연하게도 월드 트렌스폼이 적용된다.

## Character Animation
**! 땅에 닫는 포지션을 알 수 있을 때 팔이 스윙될지 Pin이 될지 결정할 수 있다.**

참고 
: HorrorEngine
, MoveIt! Multiplayer Locomotion System(V2.0)

목표. IK를 위한 AnimBlueprint, Interface, Anim Notify State구현
    서브 목표. 자동화된 Anim Notify State생성
    이를 위해서 필요한 것은.
    BP에는 없지만 CPP에서는 Bone position을 받아올 수 있음.

? 당연하게도 기존 애니메이션에서 Control Rig로 구울 수 있고, 시퀀스로도 구울 수 있고, 포즈로도 구울 수 있다. 중요한 점은 어떻게 활용하냐는 것이다.

? 루트모션을 사용하는 애님 시퀀스를 Anim Blueprint에서 실행 불러오는 방법.
@ Anim blueprint에서 root motion값을 받도록 하고,
@ 애님 시퀀스를 루트모션 설정함.
! 이렇게 하고 루트모션 애니메이션을 실행하면 루트모션이 작동합니다.

? 루트 모션의 축 조절은 키프레임을 추가하여 할 수 있음.
@ 엄청난 노가다인듯함.
@ 만들어 주는 사람이 잘만들어서 주도록 하자.
@ 루트모션을 언리얼에서 수정할거면, Animation Sequence하나당 Level 하나씩으로 만들도록 하자.
! World Position으로 Bake하면, Offset을 맞추는 수고스러움을 조금 줄일 수 있다.

? IK를 바탕으로 하는 Root motion movement를 구현해야함.
@ Blend space로 구현 가능한지는 가늠조차 안됨. 따라서 사용하지 않음.
@ State machine을 이용하면 Animation을 유기적으로 연결하기 힘들거라 생각함.
@ 직접 구현하는 것은 비효율적이고 어리석은 짓이라 생각함. (어쩔수 없는 경우를 제외하고)
! Blend Space를 이용함. 다만 측면 이동은 다른 말그대로 측면으로 이동하는 것을 의미함.

? 애니메이션의 시작과 종료를 포즈로 만듬으로써 애니메이션간의 변환을 보다 쉽게 만들 수 있나?

! 발이 지면에 다아 교환되는 시점이 속도가 제일 느려지는 시점임.

? 망할, Anim sequence 프레임 간격 어떻게 조절한거냐,,,
! 실수하지 않게 Lock으로 닫혀있는 거구나.

? Blend를 통해서 애니메이션을 자연스럽게 할 수 있을거 같은데.

? MAX(Semi procedural 논문 읽기, Semi-procedural-animation만들기)
@ Animation의 특정 시점 keyframe값을 받아올 수 있음.
! Notify time을 알 수 있는지 파악
! Semi procedural 논문 읽기
! Semi-procedural-animation만들기

? Notify time 구할 수 있는가?
! 엄청 친절하게 AnimState의 Begin에서 Notify duraion을 반환함.
! 범용성을 위해서 Interface로 구현하는게 맞다고 생각한다. 성능이 저하되는 건 어쩔 수 없지만, 매 틱마다 호출되는게 아니니 받아들일만 하다고 생각한다.

? 본의 포지션을 Anim blueprint로 업데이트 하는 방법이 도저히 안떠오르니, 수동으로 업데이트 하도록 합시다.

? Thread safe한 Trace는 AsyncLineTraceByChannel이라고 합니다.

! Level sequence로 Animation을 만들 때, Yaw값을 신경안써도 된다.

! Trail Anim State 꼬리임.

## 레벨 시퀀스 백분 활용하기
Human
    
! Level Sequence와 Anim Sequence가 연결되어 있으면, Level Sequence를 변경했을 때 Anim Sequence가 업데이트 된다. 이를 저장해줘야 애니메이션이 업데이트 된다.

! 사용하는 BP Character를 바탕으로 작업하면, 부담을 줄일 수 있습니다. 하지만 BP Character의 스켈레탈 메시 포지션을 변경할 떄 많은 부담을 줄 수 있습니다. 반대로 스켈레톤으로 작업하면 모듈이 추가될 떄 부담을 줄 수 있습니다.


## 플로우 필드 패스 파인딩
? 유니티 플로우 필드 패스 파인딩
단순하네, 엄청 효율적이고, 잘만들었다는 뜻인가.

* **프로시저란 특정한 로직을 처리하기만 하고 결과 값을 반환하지 않는 서브 프로그램이다. 테이블에서 데이터를 추출해 조작하고 그 결과를 다른 테이블에 다시 저장하거나 갱신하는 일련의 처리를 할 때 주로 프로시저를 사용한다.**

```
UENUM(BlueprintType)
enum class ETestEnum : uint8
{
    TE_OptionA UMETA(DisplayName = "Option A"),
    TE_OptionB UMETA(DisplayName = "Option B"),
};
```


## ??
액터 생성
스테틱 메쉬 컴포넌트 추가
모양을 바위 선택
히트 이벤트 추가
printstring를 이용 글자 출력

어쨋든 지금 이대로 게임에 적용을 하지 못함. 이유가 뭘까? 충돌할 때 캐릭터가 끊김? 끊기면 안되는 경우, 이는 플레이에 지장을 준것이다.

Hit는 물리적인 반발이 일어났을 때 

모든 게임?은 오버랩으로 이벤트를 구현함

**구글에 Unreal 충돌이라고 검색한다. 콜리전 개요를 읽는다? 숙지해야 한다. 재밌는게 설명하고 그림하고 틀린게 있음. (한군데 있음)**

## 모든게임의 90%이상의 이벤트는 충돌로 되어 있음.

특정컴포넌트에 이벤트를 추가할 때는 우클릭을 하면, 이벤트 추가가 나옴.

앞으로 제대로 된건지 확인하는 코딩을 엄청 많이 할 것이다.

연결할때는 드래그앤 드랍. 끊을때는 Alt클릭!!
스트럭트에 접근, 데이터 접근할려면 맴버접근자로 쩜을 찍어야함.

3차원 공간안에 어떤것을 두고싶을 때 Spawn이라 한다.

이펙트에서 수명이 무한대인 이펙트는 잘 관리를 해줘야함. 당연한 이야기지만, 삭제안하면 메모리에 남아있고, 컴퓨터가 터지게됨.
이펙트에 수명이 있지 않는 이상, 따로 관리를 해줘야함. 자료구조에 붙이거나, 방법이 없음? 추가적으로 이펙트 자체가 연산을 굉장히 많이 먹음.

한번만 터지게 할려면 다른 방법을 사용해야함. 오버랩이라던가.

## 언리얼 공식문서 대하기

에디터에서 작업하다 모르겠으면, 눌러본다. 그럼 공신문서로 연결된다.

##

상속 관계와 포함관계,
근데, 프로그래머는 불편해 한다? 근데 직접 만들면, 생성자, 초기화, 직접 추가해줘야 하지만, 컴포넌트로 만들면, 자동으로 해준다의 느낌?

작업을 해보면 장단점 있음. 개인적인 판단이 필요한 부분.

내가 누구한테 일을 시킨다, 대상이 명확해야함. 클래스 또는 ptr을 가져와서 .찍으면 일을 시킴.

따라서 액터의 각각의 부품이 무슨일을 하는지 명확하게 알아야함.

그동안 추상적으로 느끼고 있던것을 명확하게 문자화한 내용인가?

##

현실적으로 애셋을 찾기가 어렵다, 드래그앤 드랍으로 하던가,
애샛을 클릭한다음에, 선택된 애샛 사용(화살표)를 쓴다던다.

## 

Snow Plugin 가져다 썻네, 10명 밖에 안되닌까 그런가. 아니면 벽 오르는 거나. 물 플러그인도 그렇고 마켓플레이스에 있는거 엄청 활용했네.

VertexAnimToolSet. 액터 단위의 스켈레탈 메쉬가 많으면, 무겁기 때문에, 간단한 오브젝트는 텍스쳐로 뽑아내서 사용함.

리소스 로드 시 왼만하면 WeakPtr씀. 이작업으로 실제로 효과를 봤다네?

로딩 중 리소스 로드를 이용? 리소스가 큰거는 미리 로드하는 식으로 만듬. 한번에 많이 하는 경우에는 메모리 문제가 생김.

캐릭터 무브먼트에서 체크하는게 많아서, 캐릭터 무브먼트가 많아지면, 상당히 부하를 먹음. 필요없는 부분도 덜어내고, 체크하는 인터벌도 낮춤.

퀄리티 레벨을 옵션으로만 제공하지 말고 내부에서 따로 기기별 퀄리티를 지정함. 실제로 인원이 많아질때는, 퀄리티를 낮추는 쪽으로 만듬.

내부 퀄리티 레벨로 많은 것들을 분리, CharacterMesh, Effect, Texture

PSO를 활용했다는데, 내가 아는거랑 다른건가?

액터병합으로 드로우콜을 낮추는 쪽으로 작업했다네,

월드 컴포지션만 잘 조절해도 많은 부분들이 좋아진다.

레벨을 많이 분리해서 기기별 성능별로 조절

기기별 로딩 거리 제어

LOD 활용

PC 버전에서는 더 좋은 퀄리티 레벨 적용.

데디케이트 서버, 지속적인 CPU 프로파일링을 통해 Peak를 찾음? 언리얼 리눅스 데디케이트 서버는 싱글 코어만 지원? 따라서 CPU캐시 히트를 높이기 위해? 하지만 윈도우는 

## 오늘은 폴리지를 한다.
리소스가 크고 비쌀 수록 이쁜 건 맛는데, 현재 프로젝트에 적합한지는 해봐야 한다.
안열린다? 여러개 띄어놓고 하기 힘듬.

Megascane 굉장히 그럴싸해 보이지만, 게임에서 쓰일 용도는 아님. 한마디로 작업이필요함.

지형에 가져다 붇이는 지형은 잘 가져다 붙여야 한다. 잘못 붙이면 티가 난다. 아니면, 아주 멀리에 접근 못하게 막아버리거나,

인피니티 블레이드가 적응 용량의 그럴싸한! 잘만든 검증된 리소스.

폴리지 액터를 강의하지는 않는데, 나중에 찾아서 다 만들 수 있음.

밀도가 있고 뭐고, 와닫지 않음. 모든 리소스 밀도를 칼갇이 맞추는게 쉽지가 않음. 그냥 밀도를 가지고 작업하는게 편함.

단일 모드는 하나만 클릭해야함. 실수하기 싫으면,

레벨 디자인하고 빌드를 따로 분리하는 것이 좋다. 안돌아 가낟.

Cascaded Shadow Maps, 음.. Direction Light에 있다.

샘플맵 구성할 때 작업한 내용을 보면, 알 수 있다. 다만 문제가 있는게, 샘플맵 빌드를 때리면, 결과가 달라질 수 있다. 자기들이 만들어 놓은 것 조차도 깨짐.

그림자는 본인 필드에 맞춰서 조절해라. 이 작업을 해줘야 한다. 안그르면 빌드하면 왕창 깨진다. 2.24

폴리지가 법선 백터에 따라 심어지는데 설정 건들여야 한다. 근데 나뭇잎이 언덕에 가려지니, 음. 적합하게 선택할 수 밖에 없다. 다만, 땅에다 심을려면, 경계면이 이상할 수 있으니, 땅에다 심어줘야 한다.

인스턴스 세팅의 콜리젼 프리셋은 재가공 하는 것이다.

제일 좋은 컴퓨터는 그래픽 작업자가 쓴다. 음. 그럴 수 밖에,,

땅끝이 시야에 들어오면 안된다. 왜 안되는지 납득이 가게 만들어야 한다.

쿼터뷰의 경우(위에서 아래를 보면) 땅밖에 안보이기 때문에 훨씬 쉽지만, 아니라면 납득할만한 사유가 필요하다. 불친절한 게임은 진행 못하는 구간에 들어가면, 죽는다. (엘든링의 다크소울류)

레벨 디자인 할때, 먼저 구획을 정하는게 중요하다. 어디서 플레이하고, 어디서 뭘하고 등등등의 이유를 들어서, 전반적인 전체적인 맵을 어떻게 해야할지 구상을 먼저하고, 그 다음에 작업해야 한다.

라이트메스 임포턴스 불륨. 여러개를 둬도 상관없음. 무언가 조명과 그림자 처리 관련된것을 저 안에 감싸도록 한다.

올해 창업하는 회사는 5를 쓰기는 하는데, 현재는 4닌까 크게 상관없다. 지금은.

라이트 매스 임포턴스 불륨은 간접광을 여기까지 계산하세요. 없으면, 연산 안한다.

제일 중요한건, 콜리젼? 충돌기능? 내일부터 본격적으로 이벤트 처리.

## 

Wolrd Outliner 또는 애셋으로 작업할 때 팁.
검색에서 Or연산자를 이용해서 편하게 찾자

## Landsacpe material

카툰 렌더링에서 -> 스타일라이즈드 라고 부름.
스타일라이즈드는 리얼이 아니기 때문에 리소스 용량이 적음. 다만 맞는 몬스터와 그래픽을 구하기 어려움.

전부 리얼리티한 경우, 사이즈만 맞으면 얼추 맞긴한데.

정상적인 랜드스케이프 머티리얼을 집어넣으면 새까맣게 나오는게 맞음(?)

Parallax Occlusion, 어둡도 밝은 정도를 계산해서 측면에서 봤을 때 울퉁불퉁 하게 보이도록 하는것
Tessellation, 실제로 폴리곤을 밀고 당겨서 만드는 것.
Standard landscape,

땅에 굳이 이런걸 추가한다고 해서 재밌어 지거나, 퀄리티가 높아지거나 하지는 않을 것으로 봄.

레벨 디자이너가 직업적으로 하는 것이니 적당히 하도록 하자. 근데 고민하면 할 수 록 이쁘게 나오는 것은 맞음.

유저가 뭔가 이상한건 기가 막히게 눈치챔.

산이랑 물은 어떻게 만드는가?

물은 판자때기를 붙여서 만든다. 물 스케일을 높여서 만들면 판자때기 되서 모양이 이상해진다. 이럴때는 복사해서 붙여넣기 한다.

리소스가 만들어진 의도에 따라 많이 다르므로, 잘 생각해서 만들어야 한다.

## 랜드스케이프 지형 만들기.
지형을 만드는게 중요한게 아니라, 어떻게 만드는가가 중요.

랜드스케이프에서 2n승이 아니라 하나더 작은 이유가, 
마우스가 어느 시점을 클릭했는가 표현하기 위해 Unprojection을 한다. 물체같은 경우에는 바운딩 박스나 콜리젼으로 하는데, 랜드스케이프는? 쿼드 트리나 옥트리로 구성을 하는데, 그를 위한 데이터 구조 때문이다.
2n + 1 또는 2n - 1의 값을 가진다.

포트폴리오를 만들고 제출을 하면, 포트폴리오를 플레이 해볼 것이다. 포트폴리오를 플레이 하는 플레이 타임은 5분 길어야 10분, 튜토리얼 식으로 만들어서 아무 생각 없이 엔딩 볼 수 있도록.

스컬프틍. 플레이어가 

함정카드가 있는데, 3인칭 모드에서 kill z가 있다. (world setting에서 변경 가능.)

침식 기능이 있는데, 땅은 물체를 채워넣어서 완만하게 만들지, 침식기능으로 만들지는 않는다.

수성 침식은 없는 기능이라 생각하자. 잘 쓸 방법이 없다. 푹 꺼지게 만드는 건데.

쿼드트리 이해 못하겠는데???

평탄화로 어느정도 작업을 해주고, 침식 툴을 이용해서 경계선을 깍아줌. 너무 각이 져있으면, 스무드로 다듬어 주는 정도로만 이용함.

엄청 울퉁불퉁하게 만들면, 플레이 하기 어렵다.

필드에 플레이어가 강제로 심어져 있으면, 랜드스케이프에서 여기서 시작이 작동하지 않는다.

유튜브 레벨 디자인 -> 게임용 아님. 이런 작업들 하는구나 정도로 -> 프로그램에 관련된건 아님.

마켓플레이스 Landscape 툴 보면 있음.

## Replication multicast는 Server에서 reliable일때만 호출 가능함.

대역폭이 낮으면 서버는 중요하지 않은 호출을 건너뛰려고 합니다. "신뢰할 수 있음"으로 표시된 모든 항목은 절대적으로 클라이언트에 복제되어야 합니다.

복제된 UFUNCTION()은 안정적으로 또는 불안정하게 복제될 수 있습니다. 이것은 단순히 심각한 네트워크 스트레스 하에서 신뢰할 수 없는 메서드 호출이 실행되지 않을 수 도 있음을 나타냅니다. 발생해야 하는 일을 신뢰할 수 없는 것으로 표시하면 안됩니다. 그러나 이론적으로 네트워크 스트레스에서 게임 플레이를 더 좋게 만들 수 있으므로 중요하지 않은 효과에 대해 수행하는 것이 좋습니다.

# 설치
## Git bash
```
$ git submodule add https://github.com/kbmhansungb/UnrealPlugin_HorrorCore Plugins/Horrorplugin
```
## 다운로드
다운로드 후 HorrorPlugin 디렉토리를 Project/Plugins/ 디렉토리에 이동시킵니다.

## 오늘할건 배치한 물건들을 이론적인 설명함
커서를 올렸을 때 뜨는 정보가 다르다,
콜리젼 때문으로 알고있지만, 어떤 내용을 설명할 것인가?
굳이 들어가보지 않아도, 아이콘으로 충돌의 유무를 확인할 수 있다. 흠. 이건 생각못했는데.

단순 콜리젼이 있고, 복합 콜리젼이 있다.
일단 메쉬 뷰에서 복합 콜리젼을 선택해도 되는 것은 아닌데. 어쨌든 폴리곤 전부 검사하는 복합 콜리전은 너무 느려서 게임에서 사용하지 않는다고 생각하면 된다.

* 바운딩 박스라고 있다.

문제가 있다. 뱀이라고 하자. 박스콜리젼 어떻게 할 것인가? 아이템의 경우? 물체에 따라 달라진다. 점수를 주는 아이템의 경우? 먹냐 안 먹냐가 중요하지, 콜리전은 어색하지만 않을 정도의 어색하지 않게 하는게 중요, 정교하게 콜리젼을 만들 필요는 없다. 납득할 수 있을 정도의 정교함이 중요하다.

컨벡스 콜리젼은 나름 정교하게 하긴 하지만, 많이 먹는다.

그외 Ctrl Z는 한개씩 천천히, 맹신하지는 말자.

## 잠재적으로 무한한 아이템 항목 만들기

데이터 테이블은 사용하기 쉬워야 하고 효과적이여야 합니다.
언리얼에서는 CSV와 JSON을 사용할 수 있습니다.

사용예시로 Google Sheet에서 CSV로 다운로드 받습니다.
CSV의 구조와 데이터 테이블에 사용할 자료형의 구조를 매칭시킵니다.
CSV를 임포트 시키면, 자료형을 선택하여 CSV를 임포트 합니다.

DataTableRow(만든 데이터 테이블을 가진)와 자료형 변수를 생성합니다.
데이터 테이블에서 읽어들인 로는 자료형 변수에 저장됩니다.
생성함수에서 데이터 테이블에서 읽어들인 후, 변수에 저장합니다.

데이터 테이블은 노동을 줄일 뿐만 아니라, 유연성을 제공합니다.

##

Validation(유효한)은 어떻게 사용해야 하는가?

```
$ git submodule add https://github.com/kbmhansungb/UnrealPlugin_HorrorCore Plugins/HorrorPlugin
```

[특정 디렉토리 서브모듈 이용법](https://postlude.github.io/2019/01/06/git-submodule/)
[서브모듈 사용법2](https://pinedance.github.io/blog/2019/05/28/Git-Submodule)
[서브모듈 사용법](https://ohgyun.com/711)
[Git submodule 간단하게 삭제하기](https://asbear.tistory.com/190)

## Replication

1. RPC는 클라이언트가 UFUNCTION(Server, Reliable, WithValidation)함수 A를 호출하면, A함수가 서버에서 UFUNCTION(NetMulticast, Reliable) B함수를 호출한다. 그럼 각 서버와 클라이언트에서 B함수가 원하는 동작을 수행한다.

2. 선언 할 때는 A, B라 선언하지만 정의 할 때는 A_Implementation, B_Implementation라 정의해야 합니다. 언리얼 코드 제너레이터가 뒤에 Implementation가 붙은 함수를 호출합니다.

3. 추가로 bool A_Validate함수가 필요합니다.

4. (몽타주 애니메이션)모든 동작마다 replicate를 따로 해줘야 합니다.

5. 발사와 같이 특정 방향 캐릭터 기준이 필요한 경우에는 UFUNCTION(Server, Reliable, WithValidation)함수에 파라미터로 넘겨줘야 합니다.

6. 몽타주 실행을 위한 AnimInstance는 5번을 생각해서 파라미터로 넘겨주면 문제가 생길 수 있습니다. AnimInstance는 Transient합니다. 

* 컴퓨터 프로그래밍에서, transient는 일시적인 시스템의 모든 요소의 속성입니다.

7. 몽타주의 전체 재생 시간보다 blend 시간을 압도적으로 짧게 잡아야 합니다. 그렇지 않으면 blend 하는 사이에 애니메이션이 끝나 결과적으로 애니메이션이 재생되지 않는  것처럼 보입니다.

? WithValidation 

```cpp
UFUNCTION(Client, Reliable)
void ClientRPCFunction();
...
```

```cpp
UFUNCTION(Server, Reliable)
void ServerRPCFunction();
...
```

```cpp
UFUNCTION(NetMulticast, Reliable)
void MulticastRPCFunction();
...
```

Class 설정에서 Replication/Replicates 마킹을 선택해야 서버와 클라이언트 두 곳에서 스폰됩니다.

[블루프린트 리플리케이션 특강](https://www.unrealengine.com/ko/blog/crash-course-in-blueprints-replication)

## RPC(remote procedure call, 원격 프로시저 호출)

* **함수 앞에 Client, Server, Multicast 키워드를 붙인 것은 프로그래머에게 각각 어디서 호출되는지 한눈에 파악하기 위해 합의된 규칙입니다.**

* reliable은 게임플레이에 핵심에 관련된 모든것들 입니다. 입력을 기반으로 최대한 빨리 처리해야 하는 것에 사용합니다.
* unrealiable은 파티클이나 사운드 같이 올바른 순서로 클라이언트에 제공할 필요가 없는 경우 사용합니다. 지연 처리됩니다. RepNotify를 통해 대신할 수 있습니다.


* 원격 프로시저 호출은 별도의 원격 제어를 위한 코딩 없이 다른 주소 공간에서 함수나 프로시저를 실행할 수 있게하는 프로세스 간 통신 기술입니다.

* 보안상의 이유로 클라이언트는 자신이 소유한 액터로부터만 RPC를 보낼 수 있습니다.
    - PlayerController 또는 PlayerCharacter 액터에서 RPC를 보내거나 Component에 정의하여 사용할 수 있습니다.
    - Owner가 Outer였는지는 확인필요.

* 서버가 이벤트를 실행할 때 클라이언트가 이벤트를 보도록 하려면 NetMulticast RPC를 사용해야 합니다.

##

* 결과보다는 방법이 더 중요하다. 프로그램에 대한 노력이 없으면, 포트폴리오로부터 가치가 없다.

* 애셋을 병합만 하고 저장하지 않고 이주하면, 머티리얼은 이주되지 않음. 흠. 이주하고 저장을 하면 꼬임?

* 언리얼 리소스 이주. 폴더 명을 맞추고 이주해야함?

## 오늘하는거는 Asset을 가져와서 읽는 것.

* 언리얼 설치하거나 할 때 200GB정도는 여유가 있어야 한다. 언리얼 설치한 폴더도 50 ~ 100GB는 여유가 있어야 한다. 왜냐하면, 언리얼 에셋을 다운받으면, 먼저 엔진에 캐시를 만든후, 에셋을 추가하면 그 다음 폴더에 추가된다.

* 쓰지 말아야할 에셋은 무엇인지?

왜 검증된 리소스냐면 아이폰 4였을때, 서비스를 끝낸, 모바일상에서 돌아갔다를 근거로 검증되었다고 말한다.

프로젝트 생성하거나 추가하는 에셋이 있다. 생성한 프로젝트의 리소스를 사용하는 방법은 리소스 이주라고 한다.
왜 리소스 이주를 하냐, 리소스가 너무 많아서 정리가 안되기 때문이다. 또한 컴퓨터가 못버틴다. 따라서 리소스 이주를 사용한다.

어떻게 작업해야 하나, 새로운 프로젝트를 만들어서, 추가하고 독립적인 기능을 만들고, 가공이 끝나야, 애셋을 통합해서 관리해야 한다.
음. 프로젝트 별 관리라 한다는 구만.

모든 애셋은 아래에 구현설명이 있다. 안에 어떤게 들어있는지 등이 있다. 설명을 잘 읽으면 어떤식으로 해야하는지 잘 나와있다.

Showcase또는 오버뷰를 먼저 열어봐야 한다. 오버뷰를 먼저 열어야 나중에 쉐이더 컴파일 하느라 지연되지 않으며 겸사겸사 볼 수 있다.

셈플을 가져와서 쓰는건 문제가 없지만(프로그래밍 포트폴리오닌까) 그대로 쓰는건 안되고 최소한 재가공은 해야 한다.

**맵을 만들 때 중요한건, 절대로 시야밖에 아무것도 없는 빈공간이 있으면 안된다. 절대로 안된다. 기본적인 성의에 관련된 거다.**
이런 자잘한 작업에 생각보다 시간이 굉장히 많이 든다.

**물건을 클릭하고 Cntl-b를 누르면 에셋 탐색한다.**
뒤로 이동이라던가.

## 

정확하게 붙여야 할때는 역시 뷰옵션을 바꿔서 하는것.

키보드 End키를 누르면 수직방향으로 다을때까지 물건을 놓아줌. 이것도 중요한 기능.

그리드 스냅을 껐다 켰다하면서 물건 배치하면 됨.

중요한 단축키, 마우스 우클릭 휠은 속도조절, 많이쓰게됨.!?
f키를 누르면 바로 앞으로 이동.

과제: 레벨 디자이너 퀵 스타트 끝까지 하는 것이 과제. 마지막 밥아저씨 같은거 까지는 안해도 된다.

인스턴스에 직접 컴포넌트를 추가해서 만드는 경우, 그거는 영상물 만드는 사람들이다.

작업하는 폴더가 어떻게 되든간에, 영문으로 폴더를 만들고 선택.
최대퀄리티는? 레이트레이스는 이거는 게임에 쓰는게 아니라, 영상처리에 사용하는거

본인 컴퓨터가 너무 성능이 안좋으면, 모바일로 해도 됨.
시작용 콘텐츠는 있어야함.

3인칭으로 만드는데, 3인칭이 제일 어려워서 3인칭으로 한다고 한다. 1인칭 3인칭 혼합해서 사용하기 때문에?

프로젝트 만들때 진짜 조심해야할 주의사항. (언리얼 뿐만 아니라, 만에 하나라는게 있어서)
모든 작업폴더와, 연관 폴더는 영문만 써야함.

## 중요하게 생각하는거 2가지
가장 중요한건 3D에 대한 이해
어지간한 기능은 엔진이 다해줌. 프로그래밍 포트폴리오는 최소한의 여기에 어떤식으로 프로그래밍 요소를 넣어서 관리할 것인가 이게 반드시 있어야함.
기능의 타협을 한다면 (어려워서 포기하면) 포트폴리오로서의 가치가 없을 수 있다.

상속으로 할 거냐, 디스패치로 할거냐, 조립을 할 거냐, 어떤 걸 선택해도 일단은 돌아감. 중요한건 왜 이렇게 관리하도록 만들 었는가? 이래야 나중에 할 이야기가 있다.

SCANS라 한다면, 게임용 리소스는 아님. 받아도 못사용하는 것.

LOWPOLY의 문제는 LOWPOLY에 어울리는 리소스 찾기가 쉽지 않다.

중요한건 어떤식으로 적용이되느냐, 적용할 것이냐 아니냐, 가 중요. 어떻게 돌아가는지는 별로 안중요하다.

그래픽은 전부다 노가다. 예를 들어 수상작같은 것들 보면 전부 그래픽 작업. 프로그래밍적인 내용이 없음.

언리얼 엔진 DOC의 문제는 이름을 몰라서 검색을 못하는게 문제이다. 이름을 알아야 검색을 할 수 있는데, 이름을 모르면 검색을 못한다. 따라서 기능적인 것은 까먹어도 되지만, 구성을 할 때 어떤 걸 먼저해야 하고, 어떤걸 어떻게 해서 어떻게 들어갈지는 절때 까먹으면 안된다?

수업시간에는 C++을 다루지 않음. 블루프린트로 작업한다고함.

UE4 시작하기 클릭, 레벨 디자이너 퀵스타트 가이드 보고 하기

일단 본인이 노트북으로 언리얼 프로그래밍 하겠다는 마음가짐을 버린다. 데스크탑으로 해야 한다. 의외로 그래픽카드는 그렇게 부담이 되지 않는다. 근데 CPU와 RAM, 하드공간이 가장 중요하다.

학원 강의 렘 16GB <- 작업하는데 어려움을 겪음. 원할하게 엔진작업을 하고 싶다. 32GB가 권장.

###

? UAnimSequenceBase를 상속받는 UAnimSequence와 UAnimStreamable 있음. 여기서 문제가 발생함. UAnimStreamable이 뭔지 모르겠음.

해매지 않았다면 한번에 AnimNotify로 만들었을 거 같은데. 음... 근데 내부 코드를 모르니 그저 가정일 뿐인가?

## FGuid
전역 고유 식별자(全域固有識別子, 영어: Globally Unique Identifier, GUID)는 응용 소프트웨어에서 사용되는 유사난수이다.

## 3D 탐색 플러그인
설마 이렇게 만들었나 싶지만 실제로 이렇게 만들었다고 한다. unreal engine forum을 보면 [3D navigation](https://forums.unrealengine.com/t/3d-navigation-plugin/112703)에 대한 정보를 보여준다. 관련 내용을 찾기가 어렵다고 한다.

[3D navigation system for virtual reality based on 3d game engine](https://www.semanticscholar.org/paper/3D-navigation-system-for-virtual-reality-based-on-SharkawiK.-Ujang/0f3fed63730ec4ded51ff0b78ca80356ca790263#citing-papers)에 관한 내용은 찾을 수 있다. 하지만 2008년에 작성된 내용이다. 2D에서 찾아서 3D에 적용하는 방법을 찾아야 하나?

* 여러개의 NavMesh를 합치는 방법은 나중에 생각하도록 하자.

## UPROPERTY 단위 표시
CharacterMovementComponent를 보면 ForceUnits를 통해서 Editor에서 단위를 표시할 수 있음.
```cpp
	UPROPERTY(Category="Character Movement: Walking", EditAnywhere, BlueprintReadWrite, meta=(ClampMin="0", UIMin="0", ForceUnits="cm"))
	float MaxStepHeight;
```


## UOject Class를 변수로

* UCLASS 매크로에 BlueprintType, DefaultToInstanced, EditInlineNew을 추가합니다.
    * 

* UPROPERTY 매크로에 Instanced를 추가합니다.

! 개발을 좀더 편하게, Editor는 디버그가 편하게 DebugGame, 그리고 BuildTarget에서 Non-Unity mode로 빌드되도록.
! 자동으로 인클루드 하는게 엄청 많았나 보구나, 오래걸릴만 하네. PCH가 하는 역활인가? 가끔식 PCH바뀌면서 엄청 오래걸렸던거 같은데?
! 엄청나게 직접 추가해야 하기는 하는데, 빠를 수만 있다면, 충분히 감수할만하다고 생각합니다. 실제로 엄청더 빠릅니다.
그래 빌드 속도가 이정도는 되야 할만하지. ㅠㅠ
! 내가 병신이였구나, 이렇게 빌드 속도가 빨랐는데, 시간을 낭비하다니.

```c#
        bUseUnityBuild = false;
        bUsePCHFiles = false;
```

? PoseLink는 Local space(부모본과의 관계)
? ComponentSpacePose는 Component와의 관계

? 이름은 안바꾼다고 생각하고 만들도록 하자.

? **ㅠㅠㅠㅠㅠㅠㅠㅠㅠ 쓸데없는데서 시간 오래 잡아먹혔네, 내일 정리하자.**
Interface,

? UnityBuild로 cpp자동으로 통합되니, 한 클래스안에 때려박지 말도록 하자.

? 디퍼드 렌더링 모드, Static mesh component는 simulation 되어 있지 않으면 velocity를 그리지 않음.

? 공부할 때는 25분 5분 타이머가 굉장히 효율적이다.

? 로딩 스크린 만드는 방법.
https://www.youtube.com/watch?v=6CkR6KG2znM
MainMenu만들고 시간을 들여서 이것을 공부하도록 하자.

? 이걸로 함수에 대한 이해를 높일 수 있지 않을까요?
https://scahp.tistory.com/81
근데 이 내용은 아무리 봐도 DX12 튜토리얼 에서도 볼 수 있을 꺼라 생각하는데, 판단은 읽어보고 하도록 합시다.
어쨋든 이사람 블로그 정말 좋구만,
IT개발노트, 언제한번 천천히 다 흡수해야지.

? 이걸로 Raymarching Algorithm을 공부할 수 있을 것 같아요.
https://vateran.tistory.com/52

? 에미리트 보간법도 공부하고 싶어요.
잘못 찾은거 같은데...? https://conerstone.tistory.com/5

? 커스텀 언리얼 엔진 노드를 쉽게 만드는 방법.
커스텀 노드랑 커스텀 표현식은 다른 내용 같다. 여기서는 블루프린트 커스텀 노드를 쉽게 만드는 방법을 설명하는 것 같다.
https://rhyce.dev/2021/09/17/how-to-make-custom-unreal-engine-nodes-easily/?utm_source=rss&utm_medium=rss&utm_campaign=how-to-make-custom-unreal-engine-nodes-easily

? UI만들때 라이브 코딩하면 실패하는 구만. 변수가 자동으로 2로 이름이 변경되면서.

? 나나이트와 루멘

? 써봤을 떄 유용하다면 조금 더 공부할 필요가 있는 것이다?

? VAssistX와 PVSStudio

? 카오스 솔버

? 플루이드

? 복셀로 자연스럽게 연결하고

? UV설정해준후

? 머티리얼의 색을 맞추면 완성

? Lamp 만드는 방법들

? 머테리얼 도메인은 무엇인가?

[언리얼 엔진 모델링 모드](https://www.unrealengine.com/ko/tech-blog/unreal-engine-5-s-modeling-mode-takes-shape)

어떻게 사용해야 보다 효율적으로 사용할 수 있을까?
일단 무지하게 좋다는 사실은 알았다.

? 보다 사실적이고 좋은 그래픽을 위한 방법

? MS shader 별 내용없는 것 같지만, 그렇다고 하자.


이해하기 어렵네. 
만약에 쉐이더 컴파일할때 오류를 출력하는 거면,
내가 멍청해서 못한거니 앞으로 행동을 수정할 필요 있음.
멍청해서인지 아닌지 아직은 모르겠지만, 일단은 안보임.
픽셀 쉐이더의 시맨틱이 SV_POSITION 하나만 사용할 때는 생략가능함.
하지만 하나 이상이 되면 명시해줘야함.
명시하지 않으면 Fatal error를 발생시킴.


추가적으로 알게된 사실이지만, 언리얼 엔진 설치중에 해당 엔진을 이용하는 비쥬얼 스튜디오를 키면 응답오류를 발생합니다.
엔진 커스터마이징 해보고 싶었지만 200GB 넘어가는 것, 컴파일 하는데 하루걸리는 것 보고 지금은 아닌 것 같습니다. 엔진 커스터마이징 하는 방법 기록을 남겨두고 정리합시다.

? 망할 모르는 것을 어떻게 모르는지 아는가?

어리석고 겁이 없어라. 이제 겁을 좀 가지고 살자.

게임을 만들기 위해서는 국영수가 필수인가.

이 사고방식들에 대한 이론 또는 근거가 필요하다.
- 중요하지 않은 것은 상관 없지만, 중요한 것들은 효율성, 또는 정확성을 위해서 이론 또는 근거를 필요로 한다. 혼자 백날 생각하는 것 보다 논문 한편 읽는게 효율적이다. 

그림으로 이해한다. 이것은 기억하기 위한 필수 조건이다. 기억을 해야 응용하기 쉽다.
- 글로 기억한 것은 머리에 남지 안지만, 그림으로 기억한다면 이는 상당히 머리속에 오래 남는다. (지극히 당연한 이야기이다)
- 그림으로 그리기 어렵다면, 동사로라도 외우도록 하자.

분해하고 쪼갠다. 이것은 사용하기 위한 접근방식이다.
- 가장 단순한 selection sort를 생가하면 기준이 되는 피벗과 셀렉션을 분할 할 수 있다.
- 분해하고 쪼개기 위해서는 증명을 필요로 한다.

깊게 이해한다. 이것은 응용하기 위한 접근방식이다.
- 예를 들어 헤미스피어가 (사실 헤미스피어는 아니지만) 평면위의 한 점에 대한 레이의 축척이라는 점을 이용해서 빛의 반사 성질을 설명할 수 있다.
- 프레넬공식은 잘 모르지만, 들어오는 빛과 노말법선의 세타값이 커질 때 빛의 반사가 커진다. 이는 림라이트를 고려할 수 있다. 림라이트를 생각하면 NPBR과 PBR을 생각할 수 있는데, NPBR에서 흥미로운 것을 생각할 수 있다.

왜 펄어비스에서 못했을 까? 지금 생각해보면 할만 했었는데.
코드분석을 할줄 몰랐다.
- **사실 지금도 할줄 모른다. 하지만 코딩 규약을 따른 코드가 정말 읽기 쉽다는 사실은 알았다.**
- 읽기 쉬운 코드를 작성하는 것이 정말 중요하구나. KISS원칙이라고 하나. 추가적으로 간단하기 위해서는 정말 많이 알아야 한다. 다만 반복을 줄이기 위해서 사용한 코드가 어디에 있는지 아는게 조금 어렵다. 규칙이 있을 것 같은데 아직은 잘 모르겠다.
이상행동을 좀 많이 했다.
- 말할 때 생각하고 말하기.
    - 질문을 할 때는 상대방이 무슨 질문을
못하는 것을 할려했다.
- 개발자에게 처음해보는 그냥 처음 하는 사람과 다를게 없다.
- 개발자들은 자신의 커리어를 위해서 자신한테 필요한 것을 할려고 한다.
- 프로는 정체기를 얼마나 잘 견디냐 이다.
    - 나는 정체기를 안견딜려 했다.

게임 코드를 작성할 때는 IS a와 Has a관계, 상속에 대해서 생각해야 한다. 복잡하게 말하면 그렇고 게임 코드 작성 패턴은 오브젝트와 컴포넌트 패턴이다. 조립을 전제로 코드를 작성한다.

GlobalShader를 추가하기 위해 시도한 것들.
- 처음에 따라할려 했지만, 안됬다. 여기서 멘탄이 나갔다. 포럼, 사이트 등등 여러개를 찾았지만, 유용한 결론에 도달하지 못했다.
    - 버전을 생각하자. 버전이 다르니 코드도 많이 달랐다.
    - 이에 대해서 git변경이력을 보는 것이 도움이 될지도 모른다는 사실을 들었다.
        - 해당 파일에 대한 git변경이력을 보는법은 잘 모르겠다. 하지만 생각지도 못한 방법이다.
        - 추가적으로 GitHub 특정 메서드 찾기가 궁금하다. 그래야 해당 변경 이력을 쉽게 찾을 수 있지 않을까 생각한다.
    - 공식문서 씨이발, 버전이 바뀌었으면 업데이트 해줘야지잉. 안되는거 그대로 올려놨다.
        - 다르게 생각하면 현업에서 사용하는 사람한테는 별로 필요없다는 뜻이 되는 것인가?
- IT 개발 노트와 중국어로 된 사이트를 찾았다.
    - 댓글 보니 버전이 올라가면서 달라진 부분이 있었다.
        - 댓글도 꼼꼼하게 읽어야 된다는 사실을 알았다.
    - 버전이 다르니 달라진게 굉장히 많았다.
- 다른 분석 문서를 보았다.
    - 자동 한글번역 개판이다. 영어를 잘할 수 있으면 좋겠다.
- 가장 심플한 코드를 찾아 이해하였다. 사실 이게 제일 효율적인 것 같다. 다만 코드를 보고 이해하기 위해서는 해당 코드의 개념이 필요하다.
    - 개념은 공식문서, 분석문서를 한번 쭉 **정독**하는 것이 제일 효과적인 것 같다. 물론 전부 읽을라면 머리가 상당히 아프다.

쉐이더를 대하는 자세.
- 다필요 없고 쉐이더가 어떻게 작동하는지 쪼갤 수 있는 수식, 함수 단위로 쪼개서 이해하도록 하자. 그래야 자유롭게 응용 가능하다.

* final 어떻게 쓰는건지 모르겠네.

* 사소한 코드의 오류로 시간을 낭비하는 것을 막는 방법이 있을까?
    - 테스트 주도 개발, 다만 UI를 어떻게 테스트해야하는지는 모르겠음.

* 비쥬얼 스튜디오로 디버그를 활성화 해도 핫 리로드가 작동함.

* 함수 오버로딩은 하지말자, 하루동안 삽질했네...

* Widget을 생성할때 World가 아니면 Loop에 빠지는가?

* TSubclassOf<Class>에서 Class가 final일 경우?
상관없다고 한다.
* TSubclassOf<Class>에서 Class가 전방선언인 경우?
상관없다고 한다.

## Asset의 구조와 애셋의 래퍼런싱?


## 링크 모음

도저히 답이 없다 싶을때는 코드를 분석해야 한다.
|[시간이 오래걸릴 것 같다 싶을때는 programmer all로](https://www.programmerall.com/article/60142006637/)|

수까락, 기타 등등.

: [Unreal 4 렌더링 프로그래밍 주제 개요 및 목차](https://zhuanlan.zhihu.com/p/36675543)
, [건강한 남자??](https://blog.csdn.net/qq_16756235)
, [Realities.io](https://medium.com/realities-io/creating-a-custom-mesh-component-in-ue4-part-1-an-in-depth-explanation-of-vertex-factories-4a6fd9fd58f2)
, [IT개발 노트](https://scahp.tistory.com/10?category=848072)
, [Space Panda](https://spacepanda.tistory.com/4?category=704623)
, [보트내에 물 뺴기](https://forums.unrealengine.com/t/take-out-water-from-inside-of-the-boat-with-custom-stencil-logic-puzzle/365545/6)

[카메라 흔들기](https://microsoft.tistory.com/983?category=826831)

## UE5 Blueprint Widget

이야,,, 희한한거 많이 추가되었네???
세상 좋아졌구만,
