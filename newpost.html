---
layout: default
permalink: /newpost/
javascripts: [/js/d3.min.js, /js/c3.min.js]
csses: [/css/c3.css]
---

<div id="balanceChart" style="width: 90%; height: 300px;"></div>
<script type="text/javascript">
    
    function getBalances(item) {
        var balances = [[0, item.balance, item.minpayment]];
        
        var month = 1;
    
        while (item.balance > 0) {
            item.balance = item.balance * (1 + item.rate / 12) - item.payment;
        
            if(item.balance < 0) {
                item.balance = 0;
            }
    
            balances.push([month, item.balance, item.minpayment]);

            month++;
        }
        
        return balances;
    }
        
    var house = {balance:100000, rate:0.06, payment:1000, minpayment: 1000, minpaymenttype: 'dollar' };
    
    var balances = [['month', 'balance', 'minpayment']];
    var toAdd = getBalances(house);
    balances.concat(toAdd);

    var chart = c3.generate({
        bindto: '#balanceChart',
        data: {
            x: 'month',
            rows: balances,
            type: 'spline'
        },
        axis: {
            x: {
                label: {
                    text: 'month',
                    position: 'outer-center'
                }
            },
            y: {
                label: {
                    text: 'dollars',
                    position: 'outer-middle'
                }
            }
        }
    });
</script>
